{"version":3,"sources":["store/session.js","store/api.js","store/globals/nav.js","store/globals/filter.js","components/Navbar/Navbar.js","components/Navbar/Sidebar.js","components/Dropdown/Menu.js","components/Dropdown/DropdownMenu.js","store/globals/countries.js","components/User/User.js","components/Campaign/Campaign.js","components/Videos/VideoPlayer/VideoPlayer.js","components/Videos/Video.js","components/Admin/Admin.js","components/FunctionalComponents/Link.js","store/globals/codes.js","components/Login/Login.js","components/Login/Register.js","components/Login/PasswordReset.js","App.js","serviceWorker.js","store/middleware/api.js","store/store.js","index.js"],"names":["baseUrl","apiCall","createAction","modules","user","video","campaign","passwordReset","login","register","adminModules","userFilters","campaignFilters","videoFilters","validateEmail","mail","test","initialState","loading","loggedIn","activeModule","userFilter","filter","campaignFilter","userData","name","email","admin","key","bucketFolder","cookies","Cookies","slice","createSlice","reducers","onPageLoad","state","action","payload","success","set","nav","get","onLogin","onLogout","onNevigate","to","includes","onFetchUsers","userPoolData","users","onUserFilter","onVideoFilter","albumUrl","albumName","onCampaignFilter","onFetchCampaigns","campaignList","campaigns","map","userCampaignData","campaignData","campaignName","campaignUrl","campaignURL","onFetchVideoList","albumList","videos","undefined","onRemoveVideo","album","videoKey","onSelectAlbum","onFetchVideoUrl","videoUrl","onClearVideoUrl","onWaitAction","actions","onExistingUserCheck","usersUrl","window","env","devURL","prodURL","loginUrl","otpUrl","passResetUrl","registerUrl","campaignsUrl","pageLoadUrl","logoutUrl","fetchUsersUrl","updateUserUrl","removeUserUrl","addUserUrl","existingUserUrl","headersFileUpl","headers","methods","existingUserAction","cb","url","callParams","method","credentials","navigate","fetchCampaignAction","userEmail","onSuccess","type","onFailure","NavbarPage","collapseID","toggleCollapse","setState","prevState","color","dark","expand","scrolling","fixed","className","onClick","this","id","isOpen","navbar","left","active","props","style","display","link","right","logout","console","log","far","icon","username","Component","connect","dispatch","Sidebar","isAdmin","fetchCampaigns","campaignPlaylists","overlay","setAlbumName","filterVideos","title","videoMenu","userCampaignPlaylists","userMenu","defaultOpen","filterUsers","generateAdminVideoMenu","generateUserVideoMenu","campaignMenu","filterCampaigns","position","bottom","top","width","setActiveAlbumName","getArrowTranslate","layerSide","x","y","OFFSET","outTransform","MenuBase","styled","motion","ul","Arrow","height","fill","fillRule","d","Menu","React","forwardRef","ref","arrowStyle","children","initial","opacity","scale","animate","exit","transition","stiffness","damping","transformOrigin","transform","ItemBase","li","MenuItem","rest","DropdownMenu","closeOnOutsideClick","renderLayer","_props","menuItems","options","item","callback","close","layerProps","placement","anchor","autoAdjust","snapToAnchor","triggerOffset","scrollOffset","preferX","trigger","countries","User","columns","label","field","userManagementActions","toggleActive","removeUser","addUser","rows","manageUser","bind","onChange","resetForm","checkUserExistsResponse","addUserResponse","fetchUsers","property","val","element","document","getElementById","response","companyName","location","postCode","country","employeeSize","contactPersonName","contactPersonEmail","contactPersonRole","contactPersonNumber","password","role","contact","company","targetUser","find","updateUser","existingUserCheck","password_re","checkUserExists","length","idCounter","checked","size","rounded","triggerRef","toggle","data-ripple-color","btn","countryDD","countryData","value","Code","Name","onSubmit","e","preventDefault","md","group","target","Select","FormControlLabel","control","Checkbox","outline","updatedUser","body","JSON","stringify","removedUser","newUser","addUserAction","Campaign","campaignManagementActions","addCampaign","removeCampaign","updateCampaign","mailingList","popups","editCampaignFiller","mailList","intro_len","startdate","Date","enddate","modalShow","popup","file","manageCampaign","checkCampaignURLExistsResponse","addCampaignResponse","togglePopups","setMailingList","sendMailingList","index","subIndex","substring","questions","statement","push","alert","_","errElement","event","files","uploadMailList","question","balance","parseInt","duration","intro","getTime","targetCampaign","checkCampaignURLExists","popupId","option","mailListPopup","Modal","show","onHide","Header","closeButton","Title","Body","marginBottom","class","multiple","float","padding","Link","href","FacebookShareButton","quote","FacebookIcon","TwitterShareButton","TwitterIcon","RedditShareButton","RedditIcon","WhatsappShareButton","WhatsappIcon","LinkedinShareButton","source","LinkedinIcon","questionField","optionIndex","IconButton","Button","variant","startIcon","autoOk","minDate","inputVariant","format","InputAdornmentProps","date","updatedCampaign","updateCampaignAction","removeCampaignAction","existingCampaignAction","newCampaign","addCampaignAction","uploadMailListUrl","data","FormData","append","uploadMailListAction","VJSPlayer","player","src","controls","onReady","onPlayerReady","onPlay","onVideoPlay","onEnd","onVideoEnd","Video","generateTable","downloadVideo","playVideo","closeVideo","tableRows","timestamp","toString","substr","indexOf","uploadDate","toDateString","deleteVideo","videoList","endsWith","videoURL","videoObj","searchResult","obj","process","videoDetail","image","videoTable","generateTable2","showVideo","vidoeKey","removeVideoURL","replace","removeVideoAction","Admin","Navbar","classes","prepend","text","cursor","notificationType","Login","initLogin","notify","message","validate","error","loginAction","Register","initRegister","registerAction","PasswordReset","generateOTP","generateOTPResponse","initPasswordReset","passwordResetResponse","emailInputDisabled","el","otp","err","disabled","otpAction","passwordResetAction","App","content","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","warn","overlayStyle","newestOnTop","rtl","pauseOnFocusLoss","Boolean","hostname","match","api","next","a","fetch","then","json","catch","store","configureStore","reducer","middleware","getDefaultMiddleware","ReactDOM","render","StrictMode","utils","DateFnsUtils","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5580ce86.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport Cookies from 'universal-cookie';\r\nimport { apiCall } from './api';\r\nimport * as nav from './globals/nav';\r\nimport * as filter from './globals/filter';\r\n// import conf from '../../config.js';\r\n\r\nconst initialState = {\r\n\tloading: false,\r\n\tloggedIn: false,\r\n\tactiveModule: null,\r\n\tuserFilter: filter.userFilters.All,\r\n\tcampaignFilter: filter.campaignFilters.All,\r\n\tuserData: {\r\n\t\tname: null,\r\n\t\temail: null,\r\n\t\tadmin: false,\r\n\t\tkey: null,\r\n\t\tbucketFolder: null\r\n\t}\r\n};\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst slice = createSlice({\r\n\tname: 'session',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tonPageLoad: (state, action) => {\r\n\t\t\t/*\r\n\t\t\t\twhen page loads, first of all we need to check if we are logged in or not\r\n\t\t\t*/\r\n\t\t\tlet activeModule;\r\n\t\t\t// if not logged in\r\n\t\t\tif (!action.payload.success) {\r\n\t\t\t\tcookies.set('activeModule', nav.modules.login);\r\n\t\t\t\tactiveModule = nav.modules.login;\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tloggedIn: false,\r\n\t\t\t\t\tactiveModule,\r\n\t\t\t\t\tuserData: {}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t// if logged in\r\n\t\t\tactiveModule = cookies.get('activeModule');\r\n\r\n\t\t\tif (!activeModule) {\r\n\t\t\t\tcookies.set('activeModule', nav.modules.video);\r\n\t\t\t\tactiveModule = nav.modules.video;\r\n\t\t\t}\r\n\r\n\t\t\tlet { name, email, admin, key, bucketFolder } = action.payload;\r\n\t\t\tif (activeModule === nav.modules.user && !admin) {\r\n\t\t\t\tactiveModule = nav.modules.video;\r\n\t\t\t\tcookies.set('activeModule', nav.modules.video);\r\n\t\t\t}\r\n\r\n\t\t\tif (activeModule === nav.modules.campaign && admin) {\r\n\t\t\t\tactiveModule = nav.modules.video;\r\n\t\t\t\tcookies.set('activeModule', nav.modules.video);\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloggedIn: true,\r\n\t\t\t\tactiveModule,\r\n\t\t\t\tuserData: {\r\n\t\t\t\t\tname,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tadmin,\r\n\t\t\t\t\tkey,\r\n\t\t\t\t\tbucketFolder\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tonLogin: (state, action) => {\r\n\t\t\tif (!action.payload.success) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tloggedIn: false,\r\n\t\t\t\t\tuserData: {}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tlet { name, email, admin, key, bucketFolder } = action.payload;\r\n\t\t\tlet activeModule = admin ? nav.modules.user : nav.modules.campaign;\r\n\t\t\tcookies.set('activeModule', activeModule);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloggedIn: true,\r\n\t\t\t\tactiveModule,\r\n\t\t\t\tuserData: {\r\n\t\t\t\t\tname,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tadmin,\r\n\t\t\t\t\tkey,\r\n\t\t\t\t\tbucketFolder\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tonLogout: (state, action) => {\r\n\t\t\tif (action.payload.success) {\r\n\t\t\t\tcookies.set('activeModule', nav.modules.login);\r\n\t\t\t\treturn {\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tloggedIn: false,\r\n\t\t\t\t\tactiveModule: nav.modules.login,\r\n\t\t\t\t\tuserFilter: filter.userFilters.All,\r\n\t\t\t\t\tcampaignFilter: filter.campaignFilters.All,\r\n\t\t\t\t\tuserData: {\r\n\t\t\t\t\t\tname: null,\r\n\t\t\t\t\t\temail: null,\r\n\t\t\t\t\t\tadmin: false,\r\n\t\t\t\t\t\tkey: null,\r\n\t\t\t\t\t\tbucketFolder: null\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn state;\r\n\t\t},\r\n\r\n\t\tonNevigate: (state, action) => {\r\n\t\t\t// validate payload maybe\r\n\t\t\tif (!nav.validate(action.payload.to))\r\n\t\t\t\treturn state;\r\n\t\t\t// validate admin rights\r\n\t\t\tif (state.admin && !nav.validateAdminRight(action.payload.to))\r\n\t\t\t\treturn state;\r\n\r\n\t\t\tlet activeModule = action.payload.to;\r\n\t\t\tcookies.set('activeModule', activeModule);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactiveModule\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonFetchUsers: (state, action) => {\r\n\t\t\tif (!action.payload.success) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserPoolData: action.payload.users\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonUserFilter: (state, action) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserFilter: action.payload.filter\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonVideoFilter: (state, action) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\talbumUrl: action.payload.filter,\r\n\t\t\t\talbumName: action.payload.name\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonCampaignFilter: (state, action) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcampaignFilter: action.payload.filter\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonFetchCampaigns: (state, action) => {\r\n\t\t\tif (!action.payload.success) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tconst campaignList =\r\n\t\t\t\tstate.userData.admin ?\r\n\t\t\t\t\t// admin part\r\n\t\t\t\t\taction.payload.campaigns.map(\t\t// map on user\r\n\t\t\t\t\t\t(userCampaignData) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tname: userCampaignData.user,\r\n\t\t\t\t\t\t\t\tcampaigns: userCampaignData.campaigns.map(\t\t// map on user's campaigns\r\n\t\t\t\t\t\t\t\t\t(campaignData) => {\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tcampaignName: campaignData.name,\r\n\t\t\t\t\t\t\t\t\t\t\tcampaignUrl: campaignData.campaignURL\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) :\r\n\t\t\t\t\t// user part\r\n\t\t\t\t\taction.payload.campaigns;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcampaignList\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonFetchVideoList: (state, action) => {\r\n\t\t\tif (!action.payload.success) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\talbumList: undefined\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\talbumList: action.payload.videos\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonRemoveVideo: (state, action) => {\r\n\t\t\tif (!action.payload.success) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\talbumList: state.albumList.filter((album) => album.key !== action.payload.videoKey)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonSelectAlbum: (state, action) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\talbumName: action.payload.albumName\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonFetchVideoUrl: (state, action) => {\r\n\t\t\tif (!action.payload.success) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tvideoUrl: action.payload.videoUrl\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClearVideoUrl: (state, action) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonWaitAction: (state, action) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nexport const { onPageLoad, onLogin, onLogout, onFetchUsers, onNevigate, onExistingUserCheck } = slice.actions;\r\nexport const { onFetchCampaigns, onFetchVideoList, onFetchVideoUrl, onRemoveVideo, onClearVideoUrl, onSelectAlbum } = slice.actions;\r\nexport const { onCampaignFilter, onVideoFilter, onUserFilter } = slice.actions;\r\nexport const { onWaitAction } = slice.actions;\r\nexport default slice.reducer;\r\n\r\n\r\nlet baseUrl;\r\nif(window.env === \"dev\"){\r\n\tbaseUrl = window.devURL;\r\n}\r\nelse{\r\n\tbaseUrl = window.prodURL;\r\n}\r\n\r\n// Action creators\r\nconst usersUrl = baseUrl + '/users';\r\nconst loginUrl = usersUrl + '/login';\r\nconst otpUrl = usersUrl + '/otp';\r\nconst passResetUrl = usersUrl + '/passwordReset';\r\nconst registerUrl = usersUrl + '/register';\r\nconst campaignsUrl = baseUrl + '/campaigns';\r\n\r\nconst pageLoadUrl = usersUrl + '/getSessionUser';\r\nconst logoutUrl = usersUrl + '/logout';\r\nconst fetchUsersUrl = usersUrl + '/getAllUsers';\r\nconst updateUserUrl = usersUrl + '/updateUser';\r\nconst removeUserUrl = usersUrl + '/removeUser';\r\nconst addUserUrl = usersUrl + '/addUser';\r\nconst existingUserUrl = usersUrl + '/userExists';\r\n\r\nconst headersFileUpl = { 'Content-Type': undefined };\r\nconst headers = { 'Content-Type': 'application/json' };\r\nconst methods = {\r\n\tget: 'GET',\r\n\tput: 'PUT',\r\n\tpost: 'POST',\r\n\tdelete: 'DELETE'\r\n}\r\n\r\n// login, register, password-reset and session\r\nexport const loginAction = (email, password, cb) => apiCall({\r\n\turl: loginUrl,\r\n\tcallParams: {\r\n\t\tmethod: methods.post,\r\n\t\theaders,\r\n\t\tcredentials: 'include',\r\n\t\tbody: JSON.stringify({\r\n\t\t\temail,\r\n\t\t\tpassword\r\n\t\t})\r\n\t},\r\n\tcb,\r\n\tonSuccess: onLogin.type,\r\n\tonFailure: onLogin.type\r\n});\r\n\r\nexport const registerAction = (newUser, cb) => apiCall({\r\n\turl: registerUrl,\r\n\tcallParams: {\r\n\t\tmethod: methods.post,\r\n\t\theaders,\r\n\t\tcredentials: 'include',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tnewUser\r\n\t\t})\r\n\t},\r\n\tcb\r\n});\r\n\r\nexport const otpAction = (email, cb) => apiCall({\r\n\turl: otpUrl + \"/\" + email,\r\n\tcallParams: {\r\n\t\tmethod: methods.get,\r\n\t\theaders,\r\n\t\tcredentials: 'include'\r\n\t},\r\n\tcb\r\n});\r\n\r\nexport const passwordResetAction = (email, otp, password, cb) => apiCall({\r\n\turl: passResetUrl,\r\n\tcallParams: {\r\n\t\tmethod: methods.post,\r\n\t\theaders,\r\n\t\tcredentials: 'include',\r\n\t\tbody: JSON.stringify({\r\n\t\t\temail,\r\n\t\t\totp,\r\n\t\t\tpassword\r\n\t\t})\r\n\t},\r\n\tcb\r\n});\r\n\r\nexport const pageLoadAction = () => apiCall({\r\n\turl: pageLoadUrl,\r\n\tcallParams: {\r\n\t\tmethod: methods.get,\r\n\t\theaders,\r\n\t\tcredentials: 'include'\r\n\t},\r\n\tonSuccess: onPageLoad.type,\r\n\tonFailure: onPageLoad.type\r\n});\r\n\r\nexport const logoutAction = () => apiCall({\r\n\turl: logoutUrl,\r\n\tcallParams: {\r\n\t\tmethod: methods.post,\r\n\t\theaders,\r\n\t\tcredentials: 'include'\r\n\t},\r\n\tonSuccess: onLogout.type,\r\n\tonFailure: onLogout.type\r\n});\r\n\r\n// users\r\nexport const fetchUsersAction = () => apiCall({\r\n\turl: fetchUsersUrl,\r\n\tcallParams: {\r\n\t\tmethod: methods.get,\r\n\t\theaders,\r\n\t\tcredentials: 'include'\r\n\t},\r\n\tonSuccess: onFetchUsers.type,\r\n\tonFailure: onFetchUsers.type\r\n});\r\n\r\nexport const updateUserAction = (userEmail, updatedUser) => apiCall({\r\n\turl: updateUserUrl,\r\n\tcallParams: {\r\n\t\tmethod: methods.post,\r\n\t\theaders,\r\n\t\tcredentials: 'include',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tupdatedUser,\r\n\t\t\tuserEmail\r\n\t\t})\r\n\t},\r\n\tonSuccess: onFetchUsers.type,\r\n\tonFailure: onFetchUsers.type\r\n});\r\n\r\nexport const removeUserAction = (removedUser) => apiCall({\r\n\turl: removeUserUrl,\r\n\tcallParams: {\r\n\t\tmethod: methods.post,\r\n\t\theaders,\r\n\t\tcredentials: 'include',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tremovedUser\r\n\t\t})\r\n\t},\r\n\tonSuccess: onFetchUsers.type,\r\n\tonFailure: onFetchUsers.type\r\n});\r\n\r\nexport const addUserAction = (newUser, cb) => apiCall({\r\n\turl: addUserUrl,\r\n\tcallParams: {\r\n\t\tmethod: methods.post,\r\n\t\theaders,\r\n\t\tcredentials: 'include',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tnewUser\r\n\t\t})\r\n\t},\r\n\tcb,\r\n\tonSuccess: onFetchUsers.type\r\n});\r\n\r\nexport const existingUserAction = (email, cb) => {\r\n\tconst existingUserCheckURL = existingUserUrl + '/' + email;\r\n\treturn apiCall({\r\n\t\turl: existingUserCheckURL,\r\n\t\tcallParams: {\r\n\t\t\tmethod: methods.get,\r\n\t\t\theaders,\r\n\t\t\tcredentials: 'include'\r\n\t\t},\r\n\t\tcb\r\n\t});\r\n}\r\n\r\n// navigation and filtering\r\nexport const navigate = (to) => onNevigate({ to });\r\n\r\nexport const userFilter = (filter) => onUserFilter({ filter });\r\n\r\nexport const campaignFilter = (filter) => onCampaignFilter({ filter });\r\n\r\nexport const videoFilter = (filter, name) => onVideoFilter({ filter, name });\r\n\r\nexport const setActiveAlbumName = (albumName) => onSelectAlbum({ albumName });\r\n\r\nexport const enableOverlay = () => onWaitAction({});\r\n\r\n\r\n// video module loading\r\nexport const fetchVideoListAction = (albumUrl) => {\r\n\tconst fetchVideoListUrl = campaignsUrl + '/getCampaignVideosList/' + albumUrl;\r\n\treturn apiCall({\r\n\t\turl: fetchVideoListUrl,\r\n\t\tcallParams: {\r\n\t\t\tmethod: methods.get,\r\n\t\t\theaders,\r\n\t\t\tcredentials: 'include'\r\n\t\t},\r\n\t\tonSuccess: onFetchVideoList.type,\r\n\t\tonFailure: onFetchVideoList.type\r\n\t});\r\n}\r\n\r\nexport const removeVideoAction = (videoKey) => {\r\n\tconst removeVideoURL = campaignsUrl + '/removeCampaignVideo/' + videoKey.replace(\"/\", \"$\");\r\n\treturn apiCall({\r\n\t\turl: removeVideoURL,\r\n\t\tcallParams: {\r\n\t\t\tmethod: methods.delete,\r\n\t\t\theaders,\r\n\t\t\tcredentials: 'include'\r\n\t\t},\r\n\t\tonSuccess: onRemoveVideo.type,\r\n\t\tonFailure: onRemoveVideo.type\r\n\t});\r\n}\r\n\r\nexport const clearVideoAction = () => onClearVideoUrl({});\r\n\r\n// campaigns\r\nexport const fetchCampaignAction = (userEmail) => {\r\n\tconst fetchCampaignUrl = campaignsUrl + '/getUserCampaigns/' + userEmail;\r\n\treturn apiCall({\r\n\t\turl: fetchCampaignUrl,\r\n\t\tcallParams: {\r\n\t\t\tmethod: methods.get,\r\n\t\t\theaders,\r\n\t\t\tcredentials: 'include'\r\n\t\t},\r\n\t\tonSuccess: onFetchCampaigns.type,\r\n\t\tonFailure: onFetchCampaigns.type\r\n\t});\r\n}\r\n\r\nexport const updateCampaignAction = (campaignURL, updatedCampaign) => {\r\n\tconst updateCampaignUrl = campaignsUrl + '/updateCampaign/' + campaignURL;\r\n\treturn apiCall({\r\n\t\turl: updateCampaignUrl,\r\n\t\tcallParams: {\r\n\t\t\tmethod: methods.put,\r\n\t\t\theaders,\r\n\t\t\tcredentials: 'include',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tupdatedCampaign\r\n\t\t\t})\r\n\t\t},\r\n\t\tonSuccess: onFetchCampaigns.type,\r\n\t\tonFailure: onFetchCampaigns.type\r\n\t});\r\n}\r\n\r\nexport const uploadMailListAction = (campaignURL, file) => {\r\n\tconst uploadMailListUrl = campaignsUrl + '/setMailingList/' + campaignURL;\r\n\r\n\tconst data = new FormData();\r\n\tdata.append('file', file);\r\n\r\n\treturn apiCall({\r\n\t\turl: uploadMailListUrl,\r\n\t\tcallParams: {\r\n\t\t\tmethod: methods.put,\r\n\t\t\theadersFileUpl,\r\n\t\t\tcredentials: 'include',\r\n\t\t\tbody: data\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport const removeCampaignAction = (campaignURL, cb) => {\r\n\tconst removeCampaignUrl = campaignsUrl + '/removeCampaign/' + campaignURL;\r\n\treturn apiCall({\r\n\t\turl: removeCampaignUrl,\r\n\t\tcallParams: {\r\n\t\t\tmethod: methods.delete,\r\n\t\t\theaders,\r\n\t\t\tcredentials: 'include'\r\n\t\t},\r\n\t\tcb\r\n\t});\r\n}\r\n\r\nexport const addCampaignAction = (newCampaign, cb) => {\r\n\tconst addCampaignUrl = campaignsUrl + '/addCampaign';\r\n\treturn apiCall({\r\n\t\turl: addCampaignUrl,\r\n\t\tcallParams: {\r\n\t\t\tmethod: methods.post,\r\n\t\t\theaders,\r\n\t\t\tcredentials: 'include',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tnewCampaign\r\n\t\t\t})\r\n\t\t},\r\n\t\tcb,\r\n\t\tonSuccess: onFetchCampaigns.type\r\n\t});\r\n}\r\n\r\nexport const existingCampaignAction = (campaignURL, cb) => {\r\n\tconst existingCampaignCheckURL = campaignsUrl + '/campaignURLExists/' + campaignURL;\r\n\treturn apiCall({\r\n\t\turl: existingCampaignCheckURL,\r\n\t\tcallParams: {\r\n\t\t\tmethod: methods.get,\r\n\t\t\theaders,\r\n\t\t\tcredentials: 'include'\r\n\t\t},\r\n\t\tcb\r\n\t});\r\n}","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const apiCall = createAction(\"apiCall\");\r\nexport const apiSyncCall = createAction(\"apiSyncCall\");\r\nexport const apiCallFailure = createAction(\"apiCallFailure\");","export const modules = {\t\r\n\tuser: 'user',\r\n\tvideo: 'video',\r\n\tcampaign: 'campaign',\r\n\tpasswordReset: 'passwordReset',\r\n\tlogin: 'login',\r\n\tregister: 'register'\r\n}\r\n\r\nconst adminModules = [\r\n\t'user'\r\n]\r\n\r\nexport const validate = (to) => {\r\n\treturn to in modules;\r\n}\r\n\r\nexport const validateAdminRight = (to) => {\r\n\treturn adminModules.includes(to);\r\n}","export const userFilters = {\r\n\tAll: \"All\",\r\n\tActive: \"Active\",\r\n\tInactive: \"Inactive\",\r\n\tNew: \"New\"\r\n}\r\n\r\nexport const campaignFilters = {\r\n\tAll: \"All\",\r\n\tActive: \"Active\",\r\n\tPast: \"Past\",\r\n\tNew: \"New\"\r\n}\r\n\r\nexport const videoFilters = {\r\n\tvideostuff: 'videostuff'\r\n}\r\n\r\n\r\nexport const validateEmail = (mail) => {\r\n\tif (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(mail)) {\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavItem, MDBLink, MDBIcon, MDBNavbarToggler, MDBCollapse, MDBContainer } from \"mdbreact\";\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { logoutAction, navigate } from '../../store/session';\r\nimport * as nav from '../../store/globals/nav';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tusername: state.userData.name,\r\n\t\tadmin: state.userData.admin,\r\n\t\tactiveModule: state.activeModule\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tlogout: () => dispatch(logoutAction()),\r\n\t\tnavigate: (to) => dispatch(navigate(to))\r\n\t}\r\n}\r\n\r\nclass NavbarPage extends Component {\r\n\tstate = {\r\n\t\tcollapseID: \"\"\r\n\t}\r\n\r\n\r\n\ttoggleCollapse = collapseID => () => this.setState(prevState => ({ collapseID: prevState.collapseID !== collapseID ? collapseID : \"\" }));\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Router>\r\n\r\n\t\t\t<MDBContainer>\r\n\t\t\t\t<MDBNavbar color=\"blue\" dark expand=\"md\" scrolling fixed=\"top\">\r\n\t\t\t\t\t<MDBNavbarBrand>\r\n\t\t\t\t\t\t<strong className=\"white-text\">Patronish</strong>\r\n\t\t\t\t\t</MDBNavbarBrand>\r\n\t\t\t\t\t<MDBNavbarToggler onClick={this.toggleCollapse(\"navbarCollapse\")} />\r\n\t\t\t\t\t<MDBCollapse id=\"navbarCollapse\" isOpen={this.state.collapseID} navbar>\r\n\t\t\t\t\t\t<MDBNavbarNav left>\r\n\t\t\t\t\t\t\t<MDBNavItem active={ this.props.activeModule === nav.modules.user } style={{display: this.props.admin ? \"\":\"none\"}}>\r\n\t\t\t\t\t\t\t\t<MDBLink to='' onClick={() => this.props.navigate(nav.modules.user)} link>\r\n\t\t\t\t\t\t\t\t\tUsers\r\n\t\t\t\t\t\t\t\t</MDBLink>\r\n\t\t\t\t\t\t\t</MDBNavItem>\r\n\t\t\t\t\t\t\t<MDBNavItem active={ this.props.activeModule === nav.modules.video }>\r\n\t\t\t\t\t\t\t\t<MDBLink to='' onClick={() => this.props.navigate(nav.modules.video)} link>\r\n\t\t\t\t\t\t\t\t\tVideos\r\n\t\t\t\t\t\t\t\t</MDBLink>\r\n\t\t\t\t\t\t\t</MDBNavItem>\r\n\t\t\t\t\t\t\t<MDBNavItem active={ this.props.activeModule === nav.modules.campaign } style={{display: this.props.admin ? \"none\":\"\"}}>\r\n\t\t\t\t\t\t\t\t<MDBLink to='' onClick={() => this.props.navigate(nav.modules.campaign)} link>\r\n\t\t\t\t\t\t\t\t\tCampaign\r\n\t\t\t\t\t\t\t\t</MDBLink>\r\n\t\t\t\t\t\t\t</MDBNavItem>\r\n\t\t\t\t\t\t</MDBNavbarNav>\r\n\t\t\t\t\t\t<MDBNavbarNav right>\r\n\t\t\t\t\t\t\t<MDBNavItem>\r\n\t\t\t\t\t\t\t\t<MDBLink to='' onClick={ this.props.logout } link>\r\n\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t</MDBLink>\r\n\t\t\t\t\t\t\t</MDBNavItem>\r\n\t\t\t\t\t\t\t<MDBNavItem>\r\n\r\n\t\t\t\t\t\t\t\t<MDBLink to='' active={false} onClick={() => {console.log('nav link click event')}} link>\r\n\t\t\t\t\t\t\t\t\t<MDBIcon far icon=\"user\" />\r\n\t\t\t\t\t\t\t\t\t{ this.props.username }\r\n\t\t\t\t\t\t\t\t</MDBLink>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</MDBNavItem>\r\n\t\t\t\t\t\t</MDBNavbarNav>\r\n\t\t\t\t\t</MDBCollapse>\r\n\t\t\t\t</MDBNavbar>\r\n\t\t\t</MDBContainer>\r\n\r\n\t\t\t</Router>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NavbarPage);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as nav from '../../store/globals/nav';\r\nimport * as filter from '../../store/globals/filter';\r\nimport { fetchCampaignAction, userFilter, fetchVideoListAction, campaignFilter, setActiveAlbumName, onWaitAction } from '../../store/session';\r\nimport { MDBLink, MDBNavItem } from \"mdbreact\";\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { ProSidebar, Menu, MenuItem, SubMenu } from 'react-pro-sidebar';\r\nimport 'react-pro-sidebar/dist/css/styles.css';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tactiveModule: state.activeModule,\r\n\t\tuserMenu: state.userFilter,\r\n\t\tcampaignList: state.campaignList,\r\n\t\tcampaignMenu: state.campaignFilter,\r\n\t\tuserEmail: state.userData.email,\r\n\t\tisAdmin: state.userData.admin\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tfetchCampaigns: (email) => dispatch(fetchCampaignAction(email)),\r\n\t\tfilterUsers: (filter) => dispatch(userFilter(filter)),\r\n\t\tfilterVideos: (campaignUrl) => dispatch(fetchVideoListAction(campaignUrl)),\r\n\t\tfilterCampaigns: (filter) => dispatch(campaignFilter(filter)),\r\n\t\tsetAlbumName: (albumName) => dispatch(setActiveAlbumName(albumName)),\r\n\t\toverlay: () => dispatch(onWaitAction())\r\n\t}\r\n}\r\n\r\nclass Sidebar extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.campaignList) {\r\n\t\t\tif (!this.props.isAdmin) {\r\n\t\t\t\tthis.props.fetchCampaigns(this.props.userEmail);\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.fetchCampaigns(\"*\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgenerateUserVideoMenu() {\r\n\t\tconst campaignPlaylists = this.props.campaignList ? this.props.campaignList.map(\r\n\t\t\t(campaign) => {\r\n\t\t\t\treturn <MDBLink to='' onClick={() => { this.props.overlay(); this.props.setAlbumName(campaign.name); this.props.filterVideos(campaign.campaignURL); }} link>\r\n\t\t\t\t\t{campaign.name}\r\n\t\t\t\t</MDBLink>\r\n\t\t\t}\r\n\t\t) : [];\r\n\r\n\t\tconst videoMenu = <Menu>\r\n\t\t\t<SubMenu title=\"Video Folders\">\r\n\t\t\t\t<MDBNavItem active={this.props.videoMenu === filter.videoFilters.videostuff}>\r\n\t\t\t\t\t{campaignPlaylists}\r\n\t\t\t\t</MDBNavItem>\r\n\t\t\t</SubMenu>\r\n\t\t</Menu>;\r\n\t\treturn videoMenu;\r\n\t}\r\n\r\n\tgenerateAdminVideoMenu() {\r\n\t\tconst userCampaignPlaylists = this.props.campaignList ? this.props.campaignList.map(\r\n\t\t\t// this is (user name, array of campaigns)\r\n\t\t\t(campaign) => {\r\n\t\t\t\tconst campaignPlaylists =\r\n\t\t\t\t\tcampaign.campaigns.map((campaign) => {\r\n\t\t\t\t\t\treturn <MDBLink to='' onClick={() => { this.props.overlay(); this.props.setAlbumName(campaign.campaignName); this.props.filterVideos(campaign.campaignUrl); }} link>\r\n\t\t\t\t\t\t\t{campaign.campaignName}\r\n\t\t\t\t\t\t</MDBLink>\r\n\t\t\t\t\t});\r\n\t\t\t\treturn<SubMenu title={campaign.name}>\r\n\t\t\t\t\t\t\t<MDBNavItem active={this.props.videoMenu === filter.videoFilters.videostuff}>\r\n\t\t\t\t\t\t\t\t{campaignPlaylists}\r\n\t\t\t\t\t\t\t</MDBNavItem>\r\n\t\t\t\t\t\t</SubMenu>;\r\n\t\t\t}\r\n\t\t) : [];\r\n\r\n\t\tconst videoMenu = <Menu>\r\n\t\t\t\t{userCampaignPlaylists}\r\n\t\t</Menu>;\r\n\t\treturn videoMenu;\r\n\t}\r\n\r\n\trender() {\r\n\t\t// user's menu\r\n\t\tconst userMenu = <Menu>\r\n\t\t\t<SubMenu defaultOpen={true} title=\"Filter Users\">\r\n\t\t\t\t<MDBNavItem active={this.props.userMenu === filter.userFilters.All}>\r\n\t\t\t\t\t<MDBLink to='' onClick={() => this.props.filterUsers(filter.userFilters.All)} link>\r\n\t\t\t\t\t\tAll Users\r\n\t\t\t\t\t</MDBLink>\r\n\t\t\t\t</MDBNavItem>\r\n\t\t\t\t<MDBNavItem active={this.props.userMenu === filter.userFilters.Active}>\r\n\t\t\t\t\t<MDBLink to='' onClick={() => this.props.filterUsers(filter.userFilters.Active)} link>\r\n\t\t\t\t\t\tActive Users\r\n\t\t\t\t\t</MDBLink>\r\n\t\t\t\t</MDBNavItem>\r\n\t\t\t\t<MDBNavItem active={this.props.userMenu === filter.userFilters.Inactive}>\r\n\t\t\t\t\t<MDBLink to='' onClick={() => this.props.filterUsers(filter.userFilters.Inactive)} link>\r\n\t\t\t\t\t\tInactive Users\r\n\t\t\t\t\t</MDBLink>\r\n\t\t\t\t</MDBNavItem>\r\n\t\t\t</SubMenu>\r\n\t\t\t<MDBNavItem active={this.props.userMenu === filter.userFilters.New}>\r\n\t\t\t\t<MDBLink to='' onClick={() => this.props.filterUsers(filter.userFilters.New)} link>\r\n\t\t\t\t\tAdd New User\r\n\t\t\t\t</MDBLink>\r\n\t\t\t</MDBNavItem>\r\n\t\t</Menu>\r\n\t\t// console.log(\"campaign list here: \", this.props.campaignList);\r\n\t\t// video menu: (non-admin)\r\n\t\tconst videoMenu = this.props.isAdmin ?\r\n\t\t\tthis.generateAdminVideoMenu() :\r\n\t\t\tthis.generateUserVideoMenu();\r\n\r\n\t\t// campaign's menu\r\n\t\tconst campaignMenu = <Menu>\r\n\t\t\t<SubMenu defaultOpen={true} title=\"Filter Campaigns\">\r\n\t\t\t\t<MDBNavItem active={this.props.campaignMenu === filter.campaignFilters.All}>\r\n\t\t\t\t\t<MDBLink to='' onClick={() => this.props.filterCampaigns(filter.campaignFilters.All)} link>\r\n\t\t\t\t\t\tAll Campaigns\r\n\t\t\t\t\t</MDBLink>\r\n\t\t\t\t</MDBNavItem>\r\n\t\t\t\t<MDBNavItem active={this.props.campaignMenu === filter.campaignFilters.Active}>\r\n\t\t\t\t\t<MDBLink to='' onClick={() => this.props.filterCampaigns(filter.campaignFilters.Active)} link>\r\n\t\t\t\t\t\tActive Campaigns\r\n\t\t\t\t\t</MDBLink>\r\n\t\t\t\t</MDBNavItem>\r\n\t\t\t\t<MDBNavItem active={this.props.campaignMenu === filter.campaignFilters.Past}>\r\n\t\t\t\t\t<MDBLink to='' onClick={() => this.props.filterCampaigns(filter.campaignFilters.Past)} link>\r\n\t\t\t\t\t\tPast Campaigns\r\n\t\t\t\t\t</MDBLink>\r\n\t\t\t\t</MDBNavItem>\r\n\t\t\t</SubMenu>\r\n\t\t\t<MDBNavItem active={this.props.campaignMenu === filter.campaignFilters.New}>\r\n\t\t\t\t<MDBLink to='' onClick={() => this.props.filterCampaigns(filter.campaignFilters.New)} link>\r\n\t\t\t\t\tAdd New Campaign\r\n\t\t\t\t</MDBLink>\r\n\t\t\t</MDBNavItem>\r\n\t\t</Menu>\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"\" style={{ position: \"fixed\", bottom: 0, left: 0, top: 0 }}>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<ProSidebar width={270}>\r\n\t\t\t\t\t\t<Menu><MenuItem></MenuItem><MenuItem></MenuItem><MenuItem></MenuItem></Menu>\r\n\t\t\t\t\t\t{this.props.activeModule === nav.modules.user ? userMenu : <></>}\r\n\t\t\t\t\t\t{this.props.activeModule === nav.modules.video ? videoMenu : <></>}\r\n\t\t\t\t\t\t{this.props.activeModule === nav.modules.campaign ? campaignMenu : <></>}\r\n\t\t\t\t\t</ProSidebar>\r\n\t\t\t\t</Router>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nfunction getArrowTranslate(layerSide) {\r\n  let x = \"-50%\";\r\n  let y = 0;\r\n\r\n  const OFFSET = 3.5;\r\n  if (layerSide === \"left\") {\r\n    x = -OFFSET + \"px\";\r\n    y = \"-50%\";\r\n  } else if (layerSide === \"right\") {\r\n    x = OFFSET + \"px\";\r\n    y = \"-50%\";\r\n  }\r\n\r\n  const rotation = {\r\n    top: 180,\r\n    right: -90,\r\n    left: 90,\r\n    bottom: 0\r\n  };\r\n\r\n  // @ts-ignore\r\n  return `translate(${x}, ${y}) rotate(${rotation[layerSide]}deg)`;\r\n}\r\n\r\nconst outTransform = {\r\n  top: { x: 0, y: -20 },\r\n  left: { x: -20, y: 0 },\r\n  bottom: { x: 0, y: 20 },\r\n  right: { x: 20, y: 0 }\r\n};\r\n\r\nconst MenuBase = styled(motion.ul)`\r\n  transition: color 0.15s, background-color 0.15s, width 0.25s ease-in-out;\r\n  position: absolute;\r\n  width: 160px;\r\n  padding: 4px 0px;\r\n  list-style: none;\r\n  background-clip: padding-box;\r\n  border-radius: 4px;\r\n  box-shadow: 0 1px 15px rgba(27, 31, 35, 0.15);\r\n  margin: 0;\r\n  background-color: white;\r\n  color: #333;\r\n  border: 1px solid rgba(27, 31, 35, 0.15);\r\n`;\r\n\r\nconst Arrow = props => (\r\n  <svg width={14} height={7} {...props}>\r\n    <g fill=\"none\" fillRule=\"evenodd\">\r\n      <path\r\n        fill=\"#CDCFD0\"\r\n        d=\"M7 .07v1.428l-5.55 5.5L0 6.982zM7 .07v1.428l5.55 5.5L14 6.982z\"\r\n      />\r\n      <path fill=\"#FFF\" d=\"M1.45 7L7 1.498 12.55 7z\" />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nconst Menu = React.forwardRef(function Menu(\r\n  { className, style, arrowStyle, layerSide, children },\r\n  ref\r\n) {\r\n  return (\r\n    <MenuBase\r\n      ref={ref}\r\n      className={className}\r\n      style={style}\r\n      // @ts-ignore\r\n      initial={{ opacity: 0, scale: 0.85, ...outTransform[layerSide] }} // animate from\r\n      animate={{ opacity: 1, scale: 1, x: 0, y: 0 }} // animate to\r\n      // @ts-ignore\r\n      exit={{ opacity: 0, scale: 0.85, ...outTransform[layerSide] }} // animate exit\r\n      transition={{\r\n        type: \"spring\",\r\n        stiffness: 800,\r\n        damping: 35\r\n      }}\r\n    >\r\n      {children}\r\n\r\n      <Arrow\r\n        style={{\r\n          ...arrowStyle,\r\n          position: \"absolute\",\r\n          transformOrigin: \"center\",\r\n          transform: getArrowTranslate(layerSide)\r\n        }}\r\n      />\r\n    </MenuBase>\r\n  );\r\n});\r\n\r\nconst ItemBase = styled.li`\r\n  list-style: none;\r\n  display: block;\r\n  padding: 4px 8px 4px 16px;\r\n  overflow: hidden;\r\n  color: inherit;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  font-size: 14px;\r\n  line-height: 1.5;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: #359ed0;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nexport function MenuItem({ className, style, children, ...rest }) {\r\n  return (\r\n    <ItemBase className={className} style={style} {...rest}>\r\n      {children}\r\n    </ItemBase>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","import React from 'react';\r\nimport { ToggleLayer } from \"react-laag\";\r\nimport { AnimatePresence } from \"framer-motion\";\r\nimport Menu, { MenuItem } from \"../Dropdown/Menu\";\r\n\r\nexport default function DropdownMenu(props){\r\n\t\r\n\tlet renderLayer = _props => {\r\n\t\tconst menuItems = props.options.map((item) => {\r\n\t\t\treturn <MenuItem onClick={() => { props.callback(item.action,props.id); _props.close();}} key={item.action}>{item.name()}</MenuItem>\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<AnimatePresence>\r\n\t\t\t\t{_props.isOpen ? (\r\n\t\t\t\t\t<Menu\r\n\t\t\t\t\t\tref={_props.layerProps.ref}\r\n\t\t\t\t\t\tstyle={_props.layerProps.style}\r\n\t\t\t\t\t\tarrowStyle={_props.arrowStyle}\r\n\t\t\t\t\t\tlayerSide={_props.layerSide}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{menuItems}\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t) : null}\r\n\t\t\t</AnimatePresence>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (<ToggleLayer\r\n\t\tcloseOnOutsideClick\r\n\t\trenderLayer={renderLayer}\r\n\t\tplacement={{\r\n\t\t\tanchor: \"LEFT_TOP\",\r\n\t\t\tautoAdjust: true,\r\n\t\t\tsnapToAnchor: false,\r\n\t\t\ttriggerOffset: 12,\r\n\t\t\tscrollOffset: 16,\r\n\t\t\tpreferX: \"RIGHT\"\r\n\t\t }}>\r\n\t\t\t{props.trigger}\r\n\t</ToggleLayer>);\r\n}","const countries = [\r\n\t{ \"Code\": \"AF\", \"Name\": \"Afghanistan\" }, \r\n\t{ \"Code\": \"AL\", \"Name\": \"Albania\" },\r\n\t{ \"Code\": \"DZ\", \"Name\": \"Algeria\" },\r\n\t{ \"Code\": \"AS\", \"Name\": \"American Samoa\" },\r\n\t{ \"Code\": \"AD\", \"Name\": \"Andorra\" },\r\n\t{ \"Code\": \"AO\", \"Name\": \"Angola\" },\r\n\t{ \"Code\": \"AI\", \"Name\": \"Anguilla\" },\r\n\t{ \"Code\": \"AQ\", \"Name\": \"Antarctica\" },\r\n\t{ \"Code\": \"AG\", \"Name\": \"Antigua and Barbuda\" },\r\n\t{ \"Code\": \"AR\", \"Name\": \"Argentina\" },\r\n\t{ \"Code\": \"AM\", \"Name\": \"Armenia\" },\r\n\t{ \"Code\": \"AW\", \"Name\": \"Aruba\" },\r\n\t{ \"Code\": \"AU\", \"Name\": \"Australia\" },\r\n\t{ \"Code\": \"AT\", \"Name\": \"Austria\" },\r\n\t{ \"Code\": \"AZ\", \"Name\": \"Azerbaijan\" },\r\n\t{ \"Code\": \"BS\", \"Name\": \"Bahamas\" },\r\n\t{ \"Code\": \"BH\", \"Name\": \"Bahrain\" },\r\n\t{ \"Code\": \"BD\", \"Name\": \"Bangladesh\" },\r\n\t{ \"Code\": \"BB\", \"Name\": \"Barbados\" },\r\n\t{ \"Code\": \"BY\", \"Name\": \"Belarus\" },\r\n\t{ \"Code\": \"BE\", \"Name\": \"Belgium\" },\r\n\t{ \"Code\": \"BZ\", \"Name\": \"Belize\" },\r\n\t{ \"Code\": \"BJ\", \"Name\": \"Benin\" },\r\n\t{ \"Code\": \"BM\", \"Name\": \"Bermuda\" },\r\n\t{ \"Code\": \"BT\", \"Name\": \"Bhutan\" },\r\n\t{ \"Code\": \"BO\", \"Name\": \"Bolivia, Plurinational State of\" },\r\n\t{ \"Code\": \"BQ\", \"Name\": \"Bonaire, Sint Eustatius and Saba\" },\r\n\t{ \"Code\": \"BA\", \"Name\": \"Bosnia and Herzegovina\" },\r\n\t{ \"Code\": \"BW\", \"Name\": \"Botswana\" },\r\n\t{ \"Code\": \"BV\", \"Name\": \"Bouvet Island\" },\r\n\t{ \"Code\": \"BR\", \"Name\": \"Brazil\" },\r\n\t{ \"Code\": \"IO\", \"Name\": \"British Indian Ocean Territory\" },\r\n\t{ \"Code\": \"BN\", \"Name\": \"Brunei Darussalam\" },\r\n\t{ \"Code\": \"BG\", \"Name\": \"Bulgaria\" },\r\n\t{ \"Code\": \"BF\", \"Name\": \"Burkina Faso\" },\r\n\t{ \"Code\": \"BI\", \"Name\": \"Burundi\" },\r\n\t{ \"Code\": \"KH\", \"Name\": \"Cambodia\" },\r\n\t{ \"Code\": \"CM\", \"Name\": \"Cameroon\" },\r\n\t{ \"Code\": \"CA\", \"Name\": \"Canada\" },\r\n\t{ \"Code\": \"CV\", \"Name\": \"Cape Verde\" },\r\n\t{ \"Code\": \"KY\", \"Name\": \"Cayman Islands\" },\r\n\t{ \"Code\": \"CF\", \"Name\": \"Central African Republic\" },\r\n\t{ \"Code\": \"TD\", \"Name\": \"Chad\" },\r\n\t{ \"Code\": \"CL\", \"Name\": \"Chile\" },\r\n\t{ \"Code\": \"CN\", \"Name\": \"China\" },\r\n\t{ \"Code\": \"CX\", \"Name\": \"Christmas Island\" },\r\n\t{ \"Code\": \"CC\", \"Name\": \"Cocos (Keeling) Islands\" },\r\n\t{ \"Code\": \"CO\", \"Name\": \"Colombia\" },\r\n\t{ \"Code\": \"KM\", \"Name\": \"Comoros\" },\r\n\t{ \"Code\": \"CG\", \"Name\": \"Congo\" },\r\n\t{ \"Code\": \"CD\", \"Name\": \"Congo, the Democratic Republic of the\" },\r\n\t{ \"Code\": \"CK\", \"Name\": \"Cook Islands\" },\r\n\t{ \"Code\": \"CR\", \"Name\": \"Costa Rica\" },\r\n\t{ \"Code\": \"HR\", \"Name\": \"Croatia\" },\r\n\t{ \"Code\": \"CU\", \"Name\": \"Cuba\" },\r\n\t{ \"Code\": \"CY\", \"Name\": \"Cyprus\" },\r\n\t{ \"Code\": \"CZ\", \"Name\": \"Czech Republic\" },\r\n\t{ \"Code\": \"DK\", \"Name\": \"Denmark\" },\r\n\t{ \"Code\": \"DJ\", \"Name\": \"Djibouti\" },\r\n\t{ \"Code\": \"DM\", \"Name\": \"Dominica\" },\r\n\t{ \"Code\": \"DO\", \"Name\": \"Dominican Republic\" },\r\n\t{ \"Code\": \"EC\", \"Name\": \"Ecuador\" },\r\n\t{ \"Code\": \"EG\", \"Name\": \"Egypt\" },\r\n\t{ \"Code\": \"SV\", \"Name\": \"El Salvador\" },\r\n\t{ \"Code\": \"GQ\", \"Name\": \"Equatorial Guinea\" },\r\n\t{ \"Code\": \"ER\", \"Name\": \"Eritrea\" },\r\n\t{ \"Code\": \"EE\", \"Name\": \"Estonia\" },\r\n\t{ \"Code\": \"ET\", \"Name\": \"Ethiopia\" },\r\n\t{ \"Code\": \"FK\", \"Name\": \"Falkland Islands (Malvinas)\" },\r\n\t{ \"Code\": \"FO\", \"Name\": \"Faroe Islands\" },\r\n\t{ \"Code\": \"FJ\", \"Name\": \"Fiji\" },\r\n\t{ \"Code\": \"FI\", \"Name\": \"Finland\" },\r\n\t{ \"Code\": \"FR\", \"Name\": \"France\" },\r\n\t{ \"Code\": \"GF\", \"Name\": \"French Guiana\" },\r\n\t{ \"Code\": \"PF\", \"Name\": \"French Polynesia\" },\r\n\t{ \"Code\": \"TF\", \"Name\": \"French Southern Territories\" },\r\n\t{ \"Code\": \"GA\", \"Name\": \"Gabon\" },\r\n\t{ \"Code\": \"GM\", \"Name\": \"Gambia\" },\r\n\t{ \"Code\": \"GE\", \"Name\": \"Georgia\" },\r\n\t{ \"Code\": \"DE\", \"Name\": \"Germany\" },\r\n\t{ \"Code\": \"GH\", \"Name\": \"Ghana\" },\r\n\t{ \"Code\": \"GI\", \"Name\": \"Gibraltar\" },\r\n\t{ \"Code\": \"GR\", \"Name\": \"Greece\" },\r\n\t{ \"Code\": \"GL\", \"Name\": \"Greenland\" },\r\n\t{ \"Code\": \"GD\", \"Name\": \"Grenada\" },\r\n\t{ \"Code\": \"GP\", \"Name\": \"Guadeloupe\" },\r\n\t{ \"Code\": \"GU\", \"Name\": \"Guam\" },\r\n\t{ \"Code\": \"GT\", \"Name\": \"Guatemala\" },\r\n\t{ \"Code\": \"GG\", \"Name\": \"Guernsey\" },\r\n\t{ \"Code\": \"GN\", \"Name\": \"Guinea\" },\r\n\t{ \"Code\": \"GW\", \"Name\": \"Guinea-Bissau\" },\r\n\t{ \"Code\": \"GY\", \"Name\": \"Guyana\" },\r\n\t{ \"Code\": \"HT\", \"Name\": \"Haiti\" },\r\n\t{ \"Code\": \"HM\", \"Name\": \"Heard Island and McDonald Islands\" },\r\n\t{ \"Code\": \"VA\", \"Name\": \"Holy See (Vatican City State)\" },\r\n\t{ \"Code\": \"HN\", \"Name\": \"Honduras\" },\r\n\t{ \"Code\": \"HK\", \"Name\": \"Hong Kong\" },\r\n\t{ \"Code\": \"HU\", \"Name\": \"Hungary\" },\r\n\t{ \"Code\": \"IS\", \"Name\": \"Iceland\" },\r\n\t{ \"Code\": \"IN\", \"Name\": \"India\" },\r\n\t{ \"Code\": \"ID\", \"Name\": \"Indonesia\" },\r\n\t{ \"Code\": \"IR\", \"Name\": \"Iran, Islamic Republic of\" },\r\n\t{ \"Code\": \"IQ\", \"Name\": \"Iraq\" },\r\n\t{ \"Code\": \"IE\", \"Name\": \"Ireland\" },\r\n\t{ \"Code\": \"IM\", \"Name\": \"Isle of Man\" },\r\n\t{ \"Code\": \"IL\", \"Name\": \"Israel\" },\r\n\t{ \"Code\": \"IT\", \"Name\": \"Italy\" },\r\n\t{ \"Code\": \"JM\", \"Name\": \"Jamaica\" },\r\n\t{ \"Code\": \"JP\", \"Name\": \"Japan\" },\r\n\t{ \"Code\": \"JE\", \"Name\": \"Jersey\" },\r\n\t{ \"Code\": \"JO\", \"Name\": \"Jordan\" },\r\n\t{ \"Code\": \"KZ\", \"Name\": \"Kazakhstan\" },\r\n\t{ \"Code\": \"KE\", \"Name\": \"Kenya\" },\r\n\t{ \"Code\": \"KI\", \"Name\": \"Kiribati\" },\r\n\t{ \"Code\": \"KP\", \"Name\": \"Korea, Democratic People's Republic of\" },\r\n\t{ \"Code\": \"KR\", \"Name\": \"Korea, Republic of\" },\r\n\t{ \"Code\": \"KW\", \"Name\": \"Kuwait\" },\r\n\t{ \"Code\": \"KG\", \"Name\": \"Kyrgyzstan\" },\r\n\t{ \"Code\": \"LA\", \"Name\": \"Lao People's Democratic Republic\" },\r\n\t{ \"Code\": \"LV\", \"Name\": \"Latvia\" },\r\n\t{ \"Code\": \"LB\", \"Name\": \"Lebanon\" },\r\n\t{ \"Code\": \"LS\", \"Name\": \"Lesotho\" },\r\n\t{ \"Code\": \"LR\", \"Name\": \"Liberia\" },\r\n\t{ \"Code\": \"LY\", \"Name\": \"Libya\" },\r\n\t{ \"Code\": \"LI\", \"Name\": \"Liechtenstein\" },\r\n\t{ \"Code\": \"LT\", \"Name\": \"Lithuania\" },\r\n\t{ \"Code\": \"LU\", \"Name\": \"Luxembourg\" },\r\n\t{ \"Code\": \"MO\", \"Name\": \"Macao\" },\r\n\t{ \"Code\": \"MK\", \"Name\": \"Macedonia, the Former Yugoslav Republic of\" },\r\n\t{ \"Code\": \"MG\", \"Name\": \"Madagascar\" },\r\n\t{ \"Code\": \"MW\", \"Name\": \"Malawi\" },\r\n\t{ \"Code\": \"MY\", \"Name\": \"Malaysia\" },\r\n\t{ \"Code\": \"MV\", \"Name\": \"Maldives\" },\r\n\t{ \"Code\": \"ML\", \"Name\": \"Mali\" },\r\n\t{ \"Code\": \"MT\", \"Name\": \"Malta\" },\r\n\t{ \"Code\": \"MH\", \"Name\": \"Marshall Islands\" },\r\n\t{ \"Code\": \"MQ\", \"Name\": \"Martinique\" },\r\n\t{ \"Code\": \"MR\", \"Name\": \"Mauritania\" },\r\n\t{ \"Code\": \"MU\", \"Name\": \"Mauritius\" },\r\n\t{ \"Code\": \"YT\", \"Name\": \"Mayotte\" },\r\n\t{ \"Code\": \"MX\", \"Name\": \"Mexico\" },\r\n\t{ \"Code\": \"FM\", \"Name\": \"Micronesia, Federated States of\" },\r\n\t{ \"Code\": \"MD\", \"Name\": \"Moldova, Republic of\" },\r\n\t{ \"Code\": \"MC\", \"Name\": \"Monaco\" },\r\n\t{ \"Code\": \"MN\", \"Name\": \"Mongolia\" },\r\n\t{ \"Code\": \"ME\", \"Name\": \"Montenegro\" },\r\n\t{ \"Code\": \"MS\", \"Name\": \"Montserrat\" },\r\n\t{ \"Code\": \"MA\", \"Name\": \"Morocco\" },\r\n\t{ \"Code\": \"MZ\", \"Name\": \"Mozambique\" },\r\n\t{ \"Code\": \"MM\", \"Name\": \"Myanmar\" },\r\n\t{ \"Code\": \"NA\", \"Name\": \"Namibia\" },\r\n\t{ \"Code\": \"NR\", \"Name\": \"Nauru\" },\r\n\t{ \"Code\": \"NP\", \"Name\": \"Nepal\" },\r\n\t{ \"Code\": \"NL\", \"Name\": \"Netherlands\" },\r\n\t{ \"Code\": \"NC\", \"Name\": \"New Caledonia\" },\r\n\t{ \"Code\": \"NZ\", \"Name\": \"New Zealand\" },\r\n\t{ \"Code\": \"NI\", \"Name\": \"Nicaragua\" },\r\n\t{ \"Code\": \"NE\", \"Name\": \"Niger\" },\r\n\t{ \"Code\": \"NG\", \"Name\": \"Nigeria\" },\r\n\t{ \"Code\": \"NU\", \"Name\": \"Niue\" },\r\n\t{ \"Code\": \"NF\", \"Name\": \"Norfolk Island\" },\r\n\t{ \"Code\": \"MP\", \"Name\": \"Northern Mariana Islands\" },\r\n\t{ \"Code\": \"NO\", \"Name\": \"Norway\" },\r\n\t{ \"Code\": \"OM\", \"Name\": \"Oman\" },\r\n\t{ \"Code\": \"PK\", \"Name\": \"Pakistan\" },\r\n\t{ \"Code\": \"PW\", \"Name\": \"Palau\" },\r\n\t{ \"Code\": \"PS\", \"Name\": \"Palestine, State of\" },\r\n\t{ \"Code\": \"PA\", \"Name\": \"Panama\" },\r\n\t{ \"Code\": \"PG\", \"Name\": \"Papua New Guinea\" },\r\n\t{ \"Code\": \"PY\", \"Name\": \"Paraguay\" },\r\n\t{ \"Code\": \"PE\", \"Name\": \"Peru\" },\r\n\t{ \"Code\": \"PH\", \"Name\": \"Philippines\" },\r\n\t{ \"Code\": \"PN\", \"Name\": \"Pitcairn\" },\r\n\t{ \"Code\": \"PL\", \"Name\": \"Poland\" },\r\n\t{ \"Code\": \"PT\", \"Name\": \"Portugal\" },\r\n\t{ \"Code\": \"PR\", \"Name\": \"Puerto Rico\" },\r\n\t{ \"Code\": \"QA\", \"Name\": \"Qatar\" },\r\n\t{ \"Code\": \"RO\", \"Name\": \"Romania\" },\r\n\t{ \"Code\": \"RU\", \"Name\": \"Russian Federation\" },\r\n\t{ \"Code\": \"RW\", \"Name\": \"Rwanda\" },\r\n\t{ \"Code\": \"SH\", \"Name\": \"Saint Helena, Ascension and Tristan da Cunha\" },\r\n\t{ \"Code\": \"KN\", \"Name\": \"Saint Kitts and Nevis\" },\r\n\t{ \"Code\": \"LC\", \"Name\": \"Saint Lucia\" },\r\n\t{ \"Code\": \"MF\", \"Name\": \"Saint Martin (French part)\" },\r\n\t{ \"Code\": \"PM\", \"Name\": \"Saint Pierre and Miquelon\" },\r\n\t{ \"Code\": \"VC\", \"Name\": \"Saint Vincent and the Grenadines\" },\r\n\t{ \"Code\": \"WS\", \"Name\": \"Samoa\" },\r\n\t{ \"Code\": \"SM\", \"Name\": \"San Marino\" },\r\n\t{ \"Code\": \"ST\", \"Name\": \"Sao Tome and Principe\" },\r\n\t{ \"Code\": \"SA\", \"Name\": \"Saudi Arabia\" },\r\n\t{ \"Code\": \"SN\", \"Name\": \"Senegal\" },\r\n\t{ \"Code\": \"RS\", \"Name\": \"Serbia\" },\r\n\t{ \"Code\": \"SC\", \"Name\": \"Seychelles\" },\r\n\t{ \"Code\": \"SL\", \"Name\": \"Sierra Leone\" },\r\n\t{ \"Code\": \"SG\", \"Name\": \"Singapore\" },\r\n\t{ \"Code\": \"SX\", \"Name\": \"Sint Maarten (Dutch part)\" },\r\n\t{ \"Code\": \"SK\", \"Name\": \"Slovakia\" },\r\n\t{ \"Code\": \"SI\", \"Name\": \"Slovenia\" },\r\n\t{ \"Code\": \"SB\", \"Name\": \"Solomon Islands\" },\r\n\t{ \"Code\": \"SO\", \"Name\": \"Somalia\" },\r\n\t{ \"Code\": \"ZA\", \"Name\": \"South Africa\" },\r\n\t{ \"Code\": \"GS\", \"Name\": \"South Georgia and the South Sandwich Islands\" },\r\n\t{ \"Code\": \"SS\", \"Name\": \"South Sudan\" },\r\n\t{ \"Code\": \"ES\", \"Name\": \"Spain\" },\r\n\t{ \"Code\": \"LK\", \"Name\": \"Sri Lanka\" },\r\n\t{ \"Code\": \"SD\", \"Name\": \"Sudan\" },\r\n\t{ \"Code\": \"SR\", \"Name\": \"Suriname\" },\r\n\t{ \"Code\": \"SJ\", \"Name\": \"Svalbard and Jan Mayen\" },\r\n\t{ \"Code\": \"SZ\", \"Name\": \"Swaziland\" },\r\n\t{ \"Code\": \"SE\", \"Name\": \"Sweden\" },\r\n\t{ \"Code\": \"CH\", \"Name\": \"Switzerland\" },\r\n\t{ \"Code\": \"SY\", \"Name\": \"Syrian Arab Republic\" },\r\n\t{ \"Code\": \"TW\", \"Name\": \"Taiwan, Province of China\" },\r\n\t{ \"Code\": \"TJ\", \"Name\": \"Tajikistan\" },\r\n\t{ \"Code\": \"TZ\", \"Name\": \"Tanzania, United Republic of\" },\r\n\t{ \"Code\": \"TH\", \"Name\": \"Thailand\" },\r\n\t{ \"Code\": \"TL\", \"Name\": \"Timor-Leste\" },\r\n\t{ \"Code\": \"TG\", \"Name\": \"Togo\" },\r\n\t{ \"Code\": \"TK\", \"Name\": \"Tokelau\" },\r\n\t{ \"Code\": \"TO\", \"Name\": \"Tonga\" },\r\n\t{ \"Code\": \"TT\", \"Name\": \"Trinidad and Tobago\" },\r\n\t{ \"Code\": \"TN\", \"Name\": \"Tunisia\" },\r\n\t{ \"Code\": \"TR\", \"Name\": \"Turkey\" },\r\n\t{ \"Code\": \"TM\", \"Name\": \"Turkmenistan\" },\r\n\t{ \"Code\": \"TC\", \"Name\": \"Turks and Caicos Islands\" },\r\n\t{ \"Code\": \"TV\", \"Name\": \"Tuvalu\" },\r\n\t{ \"Code\": \"UG\", \"Name\": \"Uganda\" },\r\n\t{ \"Code\": \"UA\", \"Name\": \"Ukraine\" },\r\n\t{ \"Code\": \"AE\", \"Name\": \"United Arab Emirates\" },\r\n\t{ \"Code\": \"GB\", \"Name\": \"United Kingdom\" },\r\n\t{ \"Code\": \"US\", \"Name\": \"United States\" },\r\n\t{ \"Code\": \"UM\", \"Name\": \"United States Minor Outlying Islands\" },\r\n\t{ \"Code\": \"UY\", \"Name\": \"Uruguay\" },\r\n\t{ \"Code\": \"UZ\", \"Name\": \"Uzbekistan\" },\r\n\t{ \"Code\": \"VU\", \"Name\": \"Vanuatu\" },\r\n\t{ \"Code\": \"VE\", \"Name\": \"Venezuela, Bolivarian Republic of\" },\r\n\t{ \"Code\": \"VN\", \"Name\": \"Viet Nam\" },\r\n\t{ \"Code\": \"VG\", \"Name\": \"Virgin Islands, British\" },\r\n\t{ \"Code\": \"VI\", \"Name\": \"Virgin Islands, U.S.\" },\r\n\t{ \"Code\": \"WF\", \"Name\": \"Wallis and Futuna\" },\r\n\t{ \"Code\": \"EH\", \"Name\": \"Western Sahara\" },\r\n\t{ \"Code\": \"YE\", \"Name\": \"Yemen\" },\r\n\t{ \"Code\": \"ZM\", \"Name\": \"Zambia\" },\r\n\t{ \"Code\": \"ZW\", \"Name\": \"Zimbabwe\" }\r\n];\r\n\r\nexport default countries;","import { MDBBtn, MDBCol, MDBContainer, MDBInput, MDBRow, MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\r\nimport React, { Component } from 'react';\r\nimport DropdownMenu from '../Dropdown/DropdownMenu';\r\nimport { connect } from 'react-redux';\r\nimport { fetchUsersAction, updateUserAction, removeUserAction, addUserAction, existingUserAction, userFilter } from '../../store/session';\r\nimport * as filter from '../../store/globals/filter';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport countries from '../../store/globals/countries';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport '../Login/Style.css';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tuserData: state.userPoolData,\r\n\t\tuserFilter: state.userFilter\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tfetchUsers: () => dispatch(fetchUsersAction()),\r\n\t\tupdateUser: (email, user) => dispatch(updateUserAction(email, user)),\r\n\t\tremoveUser: (user) => dispatch(removeUserAction(user)),\r\n\t\tcheckUserExists: (email, cb) => dispatch(existingUserAction(email, cb)),\r\n\t\taddUser: (user, cb) => dispatch(addUserAction(user, cb)),\r\n\t\tfilterUsers: (filter) => dispatch(userFilter(filter))\r\n\t}\r\n}\r\n\r\nclass User extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.columns = [\r\n\t\t\t{\r\n\t\t\t\tlabel: '#',\r\n\t\t\t\tfield: 'id'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Company',\r\n\t\t\t\tfield: 'companyName'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'User Name',\r\n\t\t\t\tfield: 'contactPersonName'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Email',\r\n\t\t\t\tfield: 'contactPersonEmail'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Active',\r\n\t\t\t\tfield: 'active'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Manage',\r\n\t\t\t\tfield: 'manage'\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\tthis.userManagementActions = {\r\n\t\t\ttoggleActive: 'toggleActive',\r\n\t\t\tremoveUser: 'removeUser',\r\n\t\t\taddUser: 'addUser'\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\trows: [],\r\n\t\t\tactive: false\r\n\t\t\t// ,\r\n\t\t\t// companyName: \"test company\",\r\n\t\t\t// location: \"test location\",\r\n\t\t\t// postCode: \"112233\",\r\n\t\t\t// country: \"test country\",\r\n\t\t\t// contactPersonName: \"test contact name\",\r\n\t\t\t// contactPersonEmail: \"contact@person.email\",\r\n\t\t\t// contactPersonRole: \"test contact role\",\r\n\t\t\t// contactPersonNumber: \"0900123456789\",\r\n\t\t\t// password: \"cellcycle\",\r\n\t\t\t// password_re: \"cellcycle\"\r\n\t\t}\r\n\r\n\t\tthis.manageUser = this.manageUser.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.resetForm = this.resetForm.bind(this);\r\n\t\tthis.resetForm = this.resetForm.bind(this);\r\n\t\tthis.checkUserExistsResponse = this.checkUserExistsResponse.bind(this);\r\n\t\tthis.addUserResponse = this.addUserResponse.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.userData)\r\n\t\t\tthis.props.fetchUsers();\r\n\t}\r\n\r\n\tonChange(property, val) {\r\n\t\tthis.setState({\r\n\t\t\t[property]: val\r\n\t\t});\r\n\r\n\t\tconst element = document.getElementById(`${property}_err_msg`);\r\n\t\tif (element){\r\n\t\t\telement.style.display = \"none\";\r\n\t\t\tif(property === 'contactPersonEmail')\r\n\t\t\tdocument.getElementById('contactPersonEmailExists_err_msg').style.display = \"none\";\r\n\t\t}\r\n\t}\r\n\r\n\tcheckUserExistsResponse(response) {\r\n\t\tconsole.log(\"response: \", response);\r\n\t\tif(response.success){\r\n\t\t\tdocument.getElementById('contactPersonEmailExists_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { companyName, location, postCode, country, employeeSize,\r\n\t\t\tcontactPersonName, contactPersonEmail, contactPersonRole, contactPersonNumber, password, active } = this.state;\r\n\r\n\t\tconst user = {\r\n\t\t\tname: contactPersonName,\r\n\t\t\temail: contactPersonEmail,\r\n\t\t\tpassword,\r\n\t\t\trole: contactPersonRole,\r\n\t\t\tcontact: contactPersonNumber,\r\n\r\n\t\t\tcompany: {\r\n\t\t\t\tname: companyName,\r\n\t\t\t\tlocation,\r\n\t\t\t\tpostCode,\r\n\t\t\t\tcountry,\r\n\t\t\t\temployeeSize: employeeSize ? employeeSize : -1\r\n\t\t\t},\r\n\t\t\tactive\r\n\t\t}\r\n\t\t\r\n\t\tconsole.log('new user: ', user);\r\n\t\tthis.props.addUser(user, this.addUserResponse);\r\n\t}\r\n\r\n\taddUserResponse(response) {\r\n\t\t// wait for further action\r\n\t\tconsole.log(\"response: \", response);\r\n\t\tif(response.success){\r\n\t\t\tif(this.state.active){\r\n\t\t\t\tthis.props.filterUsers(filter.userFilters.Active);\r\n\t\t\t}\r\n\t\t\tif(!this.state.active){\r\n\t\t\t\tthis.props.filterUsers(filter.userFilters.Inactive);\r\n\t\t\t}\r\n\t\t\tthis.props.fetchUsers();\r\n\t\t}\r\n\t}\r\n\r\n\t// user management: [activate/de-activate user]\r\n\tmanageUser(action, email) {\r\n\t\tlet targetUser;\r\n\t\tswitch (action) {\r\n\t\t\tcase this.userManagementActions.toggleActive:\r\n\t\t\t\ttargetUser = { ...this.props.userData.find((user) => user.email === email) };\r\n\t\t\t\ttargetUser.active = !targetUser.active;\r\n\t\t\t\tthis.props.updateUser(email, targetUser);\r\n\t\t\t\treturn;\r\n\r\n\t\t\tcase this.userManagementActions.removeUser:\r\n\t\t\t\ttargetUser = { ...this.props.userData.find((user) => user.email === email) };\r\n\t\t\t\tthis.props.removeUser(targetUser);\r\n\t\t\t\treturn;\r\n\r\n\t\t\tcase this.userManagementActions.addUser:\r\n\t\t\t\tif (!this.state.companyName) {\r\n\t\t\t\t\tdocument.getElementById('companyName_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.location) {\r\n\t\t\t\t\tdocument.getElementById('location_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.postCode) {\r\n\t\t\t\t\tdocument.getElementById('postCode_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.country) {\r\n\t\t\t\t\tdocument.getElementById('country_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.contactPersonName) {\r\n\t\t\t\t\tdocument.getElementById('contactPersonName_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.contactPersonEmail) {\r\n\t\t\t\t\tdocument.getElementById('contactPersonEmail_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!filter.validateEmail(this.state.contactPersonEmail)) {\r\n\t\t\t\t\tdocument.getElementById('contactPersonEmail_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.props.existingUserCheck) {\r\n\t\t\t\t\t// appropriate message\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.contactPersonRole) {\r\n\t\t\t\t\tdocument.getElementById('contactPersonRole_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.contactPersonNumber) {\r\n\t\t\t\t\tdocument.getElementById('contactPersonNumber_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.password) {\r\n\t\t\t\t\tdocument.getElementById('password_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.state.password !== this.state.password_re) {\r\n\t\t\t\t\tdocument.getElementById('password_re_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.checkUserExists(this.state.contactPersonEmail, this.checkUserExistsResponse);\r\n\t\t\t\treturn;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"will act as default\");\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tresetForm() {\r\n\t\tthis.setState({\r\n\t\t\tcompanyName: \"\",\r\n\t\t\tlocation: \"\",\r\n\t\t\tpostCode: \"\",\r\n\t\t\tcountry: \"\",\r\n\t\t\temployeeSize: \"\",\r\n\r\n\t\t\tcontactPersonName: \"\",\r\n\t\t\tcontactPersonEmail: \"\",\r\n\t\t\tcontactPersonRole: \"\",\r\n\t\t\tcontactPersonNumber: \"\",\r\n\r\n\t\t\tpassword: \"\",\r\n\t\t\tpassword_re: \"\",\r\n\r\n\t\t\tactive: false\r\n\t\t});\r\n\t}\r\n\r\n\t/*\r\n\t\tCompany (Name, Location, Post Code, Country, Employees size) - upload logo\r\n\t\tContact Person (Name, Role, email, password, phone nr)\r\n\t*/\r\n\r\n\trender() {\r\n\t\tif (this.props.userFilter === filter.userFilters.All || this.props.userFilter === filter.userFilters.Active || this.props.userFilter === filter.userFilters.Inactive) {\r\n\t\t\tlet rows;\r\n\t\t\tif (this.props.userData) {\r\n\t\t\t\tif (this.props.userData.length > 0) {\r\n\t\t\t\t\tfunction generateMaterialCheckbox(checked) {\r\n\t\t\t\t\t\treturn <MDBBtn size=\"sm\" rounded color={checked ? \"success\" : \"danger\"}>{checked ? \"Active\" : \"Inactive\"}</MDBBtn>;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet idCounter = 1;\r\n\t\t\t\t\trows = this.props.userData.map((user) => {\r\n\t\t\t\t\t\tif (this.props.userFilter === filter.userFilters.Active && !user.active)\r\n\t\t\t\t\t\t\treturn {};\r\n\t\t\t\t\t\tif (this.props.userFilter === filter.userFilters.Inactive && user.active)\r\n\t\t\t\t\t\t\treturn {};\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t'id': idCounter++,\r\n\t\t\t\t\t\t\t'companyName': user.company.name,\r\n\t\t\t\t\t\t\t'contactPersonName': user.name,\r\n\t\t\t\t\t\t\t'contactPersonEmail': user.email,\r\n\t\t\t\t\t\t\t'active': generateMaterialCheckbox(user.active),\r\n\t\t\t\t\t\t\t'action': <DropdownMenu\r\n\t\t\t\t\t\t\t\ttrigger={\r\n\t\t\t\t\t\t\t\t\t({ isOpen, triggerRef, toggle }) =>\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary\" data-ripple-color=\"dark\"\r\n\t\t\t\t\t\t\t\t\t\t\tref={triggerRef}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={toggle}>\r\n\t\t\t\t\t\t\t\t\t\t\tManage User\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>}\r\n\t\t\t\t\t\t\t\tid={user.email}\r\n\t\t\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: () => user.active ? \"Deactivate User\" : \"Activate User\",\r\n\t\t\t\t\t\t\t\t\t\taction: this.userManagementActions.toggleActive,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: () => \"Remove User\",\r\n\t\t\t\t\t\t\t\t\t\taction: this.userManagementActions.removeUser,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\tcallback={this.manageUser}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<MDBTable btn>\r\n\t\t\t\t\t<MDBTableHead columns={this.columns} />\r\n\t\t\t\t\t<MDBTableBody rows={rows} />\r\n\t\t\t\t\t{/* <MDBTableBody rows={rows_outline_btn} /> */}\r\n\t\t\t\t</MDBTable>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.props.userFilter === filter.userFilters.New) {\r\n\t\t\tconst countryDD = countries.map(\r\n\t\t\t\t(countryData) => {\r\n\t\t\t\t\treturn <MenuItem value={countryData.Code}>{countryData.Name}</MenuItem>;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t\t<form className=\"needs-validation\" onSubmit={(e) => { e.preventDefault(); this.manageUser(this.userManagementActions.addUser); }}>\r\n\t\t\t\t\t<MDBContainer>\r\n\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t<MDBCol md=\"12\">\r\n\t\t\t\t\t\t\t\t<p id=\"x\" className=\"h5 text-center mb-4\">Company</p>\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Company Name\"\r\n\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.companyName}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('companyName', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div id=\"companyName_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Location\"\r\n\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.location}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('location', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div id=\"location_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t{/* log goes here */}\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Post Code\"\r\n\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.postCode}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('postCode', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div id=\"postCode_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tclassName=\"countryDD\"\r\n\t\t\t\t\t\t\t\tstyle={{\"color\" : \"#757575\", \"padding-top\": \"32px\", \"padding-left\": \"4px\" }}\r\n\t\t\t\t\t\t\t\tlabel=\"Country\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.country}\r\n\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('country', e.target.value)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{countryDD}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<div id=\"country_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Employee Size\"\r\n\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.employeeSize}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('employeeSize', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t<p id=\"x\" className=\"h5 text-center mb-4 mt-3\">Contact Person (Account Holder)</p>\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.contactPersonName}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('contactPersonName', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div id=\"contactPersonName_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Email (used as login credential)\"\r\n\t\t\t\t\t\t\t\t\tgroup type=\"email\"\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.contactPersonEmail}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('contactPersonEmail', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div id=\"contactPersonEmail_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t<div id=\"contactPersonEmailExists_err_msg\" className=\"invalid-feedback\">Email address already in use</div>\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Role\"\r\n\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.contactPersonRole}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('contactPersonRole', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div id=\"contactPersonRole_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Contact Number\"\r\n\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.contactPersonNumber}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('contactPersonNumber', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div id=\"contactPersonNumber_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t<MDBCol md=\"5\">\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Enter Password\"\r\n\t\t\t\t\t\t\t\t\tgroup type=\"password\"\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('password', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div id=\"password_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t<MDBCol md=\"5\">\r\n\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Retype password\"\r\n\t\t\t\t\t\t\t\t\tgroup type=\"password\"\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.password_re}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('password_re', e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div id=\"password_re_err_msg\" className=\"invalid-feedback\">Passwords do not match</div>\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t<MDBCol md=\"2\">\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={this.state.active} onChange={(e) => this.onChange('active', e.target.checked)} name=\"active\" />}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Active\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<MDBBtn outline color=\"success\" type=\"submit\">Register New User</MDBBtn>\r\n\t\t\t\t\t\t\t\t\t<MDBBtn outline color=\"warning\" onClick={this.resetForm}>Clear</MDBBtn>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t</MDBContainer>\r\n\t\t\t\t</form>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(User);","import { MDBBtn, MDBCol, MDBContainer, MDBInput, MDBRow, MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\r\nimport React, { Component } from 'react';\r\nimport DropdownMenu from '../Dropdown/DropdownMenu';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tfetchCampaignAction,\r\n\tupdateCampaignAction,\r\n\tremoveCampaignAction,\r\n\taddCampaignAction,\r\n\texistingCampaignAction,\r\n\tcampaignFilter,\r\n\tuploadMailListAction\r\n} from '../../store/session';\r\nimport * as filter from '../../store/globals/filter';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { KeyboardDatePicker } from \"@material-ui/pickers\";\r\nimport { Button } from '@material-ui/core';\r\n// import Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport { FacebookShareButton, FacebookIcon, TwitterShareButton, TwitterIcon, WhatsappShareButton, WhatsappIcon } from 'react-share';\r\nimport { LinkedinShareButton, LinkedinIcon, RedditShareButton, RedditIcon } from 'react-share';\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\n\r\nimport './Campaign.css';\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\temail: state.userData.email,\r\n\t\tcampaignData: state.campaignList,\r\n\t\tcampaignFilter: state.campaignFilter\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tfetchCampaigns: (userEmail) => dispatch(fetchCampaignAction(userEmail)),\r\n\t\tupdateCampaign: (campaignURL, updatedCampaign) => dispatch(updateCampaignAction(campaignURL, updatedCampaign)),\r\n\t\tremoveCampaign: (campaignURL, cb) => dispatch(removeCampaignAction(campaignURL, cb)),\r\n\t\tcheckCampaignURLExists: (url, cb) => dispatch(existingCampaignAction(url, cb)),\r\n\t\taddCampaign: (newCampaign, cb) => dispatch(addCampaignAction(newCampaign, cb)),\r\n\t\tfilterCampaigns: (filter) => dispatch(campaignFilter(filter)),\r\n\t\tuploadMailList: (campaignURL, file) => dispatch(uploadMailListAction(campaignURL, file))\r\n\t}\r\n}\r\n\r\n/*\r\n\trequirements:\r\n\t\tname\r\n\t\turl\r\n\t\tstart date\r\n\t\tend date\r\n\t\tvideo duration\r\n\t\tintro text\r\n\t\t[questions]\r\n\tcampaign object\r\n*/\r\n\r\nclass Campaign extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.columns = [\r\n\t\t\t{\r\n\t\t\t\tlabel: '#',\r\n\t\t\t\tfield: 'id'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Campaign',\r\n\t\t\t\tfield: 'name'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Campaign Balance',\r\n\t\t\t\tfield: 'balance'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Video Duration',\r\n\t\t\t\tfield: 'duration'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Intro Text',\r\n\t\t\t\tfield: 'intro'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'URL',\r\n\t\t\t\tfield: 'url'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Share',\r\n\t\t\t\tfield: 'share'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Manage',\r\n\t\t\t\tfield: 'manage'\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\tthis.campaignManagementActions = {\r\n\t\t\taddCampaign: 'addCampaign',\r\n\t\t\tremoveCampaign: 'removeCampaign',\r\n\t\t\tupdateCampaign: 'updateCampaign',\r\n\t\t\tmailingList: 'mailingList'\r\n\t\t}\r\n\r\n\t\tthis.popups = {\r\n\t\t\teditCampaignFiller: 'editeCampaignFiller',\r\n\t\t\tmailList: 'mailList'\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\trows: [],\r\n\t\t\tintro_len: 300,\r\n\t\t\tstartdate: new Date(),\r\n\t\t\tenddate: new Date(),\r\n\t\t\tmodalShow: false,\r\n\t\t\tmailList: {\r\n\t\t\t\tpopup: false,\r\n\t\t\t\tcampaign: null,\r\n\t\t\t\tfile: undefined\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.manageCampaign = this.manageCampaign.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.resetForm = this.resetForm.bind(this);\r\n\t\tthis.checkCampaignURLExistsResponse = this.checkCampaignURLExistsResponse.bind(this);\r\n\t\tthis.addCampaignResponse = this.addCampaignResponse.bind(this);\r\n\t\tthis.togglePopups = this.togglePopups.bind(this);\r\n\t\tthis.setMailingList = this.setMailingList.bind(this);\r\n\t\tthis.sendMailingList = this.sendMailingList.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.campaignData)\r\n\t\t\tthis.props.fetchCampaigns(this.props.email);\r\n\t}\r\n\r\n\tonChange(property, val, index = -1, subIndex = -1) {\r\n\r\n\t\t// console.log(property, val, index);\r\n\r\n\t\tif (property === 'intro') {\r\n\t\t\tif (val.length > 300)\r\n\t\t\t\tval = val.substring(0, 300);\r\n\t\t\tthis.setState({\r\n\t\t\t\tintro_len: 300 - val.length\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// to add new question\r\n\t\tif (property === 'question') {\r\n\t\t\t// if question array does not exist, make a new one\r\n\t\t\tlet questions = this.state.questions ? this.state.questions : [];\r\n\r\n\t\t\t// update question statement\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\t// use sub index to switch between and / or\r\n\t\t\t\tif (subIndex === 0)\r\n\t\t\t\t\tquestions[index].type = questions[index].type === \"or\" ? \"and\" : \"or\";\r\n\t\t\t\telse\r\n\t\t\t\t\tquestions[index].statement = val;\r\n\t\t\t}\r\n\t\t\t// add new question\r\n\t\t\telse {\r\n\t\t\t\tquestions[questions.length] = { statement: val, type: \"or\", options: [\"yes\", \"no\"] };\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tquestions\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// remove a question\r\n\t\tif (property === 'question-r') {\r\n\t\t\tlet questions = this.state.questions;\r\n\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tquestions[index] = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tquestions\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// add option to existing question\r\n\t\tif (property === 'question-option') {\r\n\t\t\tlet questions = this.state.questions;\r\n\t\t\tif (!questions) {\r\n\t\t\t\talert(\"Error: Add option to invalid question\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (subIndex >= 0) {\r\n\t\t\t\tquestions[index].options[subIndex] = val;\r\n\t\t\t} else {\r\n\t\t\t\tif (questions[index].options)\r\n\t\t\t\t\tquestions[index].options.push(val);\r\n\t\t\t\telse\r\n\t\t\t\t\tquestions[index].options = [val];\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tquestions\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (property === 'question-option-r') {\r\n\t\t\tlet questions = this.state.questions;\r\n\t\t\tif (!questions) {\r\n\t\t\t\talert(\"Error: Remove option to invalid question\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (subIndex >= 0) {\r\n\t\t\t\tif (questions[index].options && questions[index].options.length > 0)\r\n\t\t\t\t\tquestions[index].options = questions[index].options.filter((_, index) => index !== subIndex);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tquestions\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (property === 'name') {\r\n\t\t\tdocument.getElementById('campaignNameExists_err_msg').style.display = \"none\";\r\n\t\t}\r\n\r\n\t\tif (property === 'url') {\r\n\t\t\tdocument.getElementById('campaignURLExists_err_msg').style.display = \"none\";\r\n\t\t\t// in future add special characters as well\r\n\t\t\tif (val.includes(' ')) {\r\n\t\t\t\tdocument.getElementById('validURL_err_msg').style.display = \"block\";\r\n\t\t\t} else {\r\n\t\t\t\tdocument.getElementById('validURL_err_msg').style.display = \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst errElement = document.getElementById(`${property.includes('date') ? 'date' : property}_err_msg`);\r\n\t\tif (errElement)\r\n\t\t\terrElement.style.display = \"none\";\r\n\r\n\t\tif (property === 'startdate') {\r\n\t\t\tthis.setState({\r\n\t\t\t\t[property]: val,\r\n\t\t\t\tenddate: val\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (property === 'duration') {\r\n\t\t\tif (val < 0) {\r\n\t\t\t\tval = 0;\r\n\t\t\t} else if (val > 120) {\r\n\t\t\t\tval = 120;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\t[property]: val\r\n\t\t});\r\n\t}\r\n\r\n\tsetMailingList(event){\r\n\t\tlet file = event.target.files[0];\r\n\t\tthis.setState({\r\n\t\t\t...this.state,\r\n\t\t\tmailList: {\r\n\t\t\t\t...this.state.mailList,\r\n\t\t\t\tfile\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tsendMailingList(){\r\n\t\tthis.togglePopups(this.popups.mailList);\r\n\t\tthis.props.uploadMailList(this.state.mailList.campaign.campaignURL, this.state.mailList.file);\r\n\t\t// console.log(this.state.mailList.campaign.campaignURL, this.state.mailList.file);\r\n\t}\r\n\r\n\t// campaign management\r\n\tcheckCampaignURLExistsResponse(response) {\r\n\t\tconsole.log(\"response: \", response);\r\n\t\tif (response.success) {\r\n\t\t\tdocument.getElementById('campaignURLExists_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst questions = this.state.questions ? this.state.questions.filter((question) => question === null ? false : question.length === 0 ? false : true) : [];\r\n\r\n\t\tconst campaign = {\r\n\t\t\temail: this.props.email,\r\n\t\t\tcampaignURL: this.state.url,\r\n\t\t\tname: this.state.name,\r\n\t\t\tbalance: parseInt(\"10\"),\r\n\t\t\tduration: parseInt(this.state.duration),\r\n\t\t\tintro: this.state.intro,\r\n\t\t\tstartdate: this.state.startdate.getTime(),\r\n\t\t\tenddate: this.state.enddate.getTime(),\r\n\t\t\tquestions\r\n\t\t}\r\n\t\tconsole.log('new campaign: ', campaign);\r\n\t\tthis.setState({\r\n\t\t\tmailList: {\r\n\t\t\t\t...this.state.mailList,\r\n\t\t\t\tcampaign\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.props.addCampaign(campaign, this.addCampaignResponse);\r\n\t}\r\n\r\n\taddCampaignResponse(response) {\r\n\t\t// wait for further action\r\n\t\tconsole.log(\"response: \", response);\r\n\t\tif (response.success) {\r\n\t\t\tthis.props.filterCampaigns(filter.campaignFilters.All);\r\n\t\t\tthis.props.fetchCampaigns(this.props.email);\r\n\t\t\tthis.resetForm();\r\n\t\t\tthis.togglePopups(this.popups.mailList);\r\n\t\t}\r\n\t}\r\n\r\n\tmanageCampaign(action, url) {\r\n\r\n\t\tlet targetCampaign;\r\n\t\tswitch (action) {\r\n\t\t\tcase this.campaignManagementActions.mailingList:\r\n\t\t\t\tthis.togglePopups(this.popups.mailList, true, this.props.campaignData.filter(campaign => campaign.campaignURL === url)[0]);\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tcase this.campaignManagementActions.updateCampaign:\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tmodalShow: !this.state.modalShow\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\r\n\t\t\tcase this.campaignManagementActions.removeCampaign:\r\n\t\t\t\ttargetCampaign = { ...this.props.campaignData.find((campaign) => campaign.campaignURL === url) };\r\n\t\t\t\tthis.props.removeCampaign(targetCampaign.campaignURL, () => this.props.fetchCampaigns(this.props.email));\r\n\t\t\t\treturn;\r\n\r\n\t\t\tcase this.campaignManagementActions.addCampaign:\r\n\t\t\t\tif (!this.state.name) {\r\n\t\t\t\t\tdocument.getElementById('name_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.duration) {\r\n\t\t\t\t\tdocument.getElementById('duration_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.state.url || this.state.url.includes(' ')) {\r\n\t\t\t\t\tdocument.getElementById('validURL_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// parse and check dates\r\n\t\t\t\tif (!this.state.startdate || !this.state.enddate) {\r\n\t\t\t\t\tdocument.getElementById('date_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.state.startdate.getTime() >= this.state.enddate.getTime()) {\r\n\t\t\t\t\tdocument.getElementById('date_err_msg').style.display = \"block\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// validate questions\r\n\r\n\r\n\t\t\t\tthis.props.checkCampaignURLExists(this.state.url, this.checkCampaignURLExistsResponse);\r\n\t\t\t\treturn;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"will act as default\");\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tresetForm() {\r\n\t\tthis.setState({\r\n\t\t\tname: \"\",\r\n\t\t\turl: \"\",\r\n\t\t\tduration: \"\",\r\n\t\t\tintro: \"\",\r\n\t\t\tstartdate: new Date(),\r\n\t\t\tenddate: new Date(),\r\n\t\t\tquestions: null\r\n\t\t});\r\n\t}\r\n\r\n\t// models\r\n\ttogglePopups(popupId, state, option) {\r\n\t\tswitch (popupId) {\r\n\t\t\tcase this.popups.mailList:\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tmailList: {\r\n\t\t\t\t\t\tcampaign: option === undefined ? this.state.mailList.campaign : option,\r\n\t\t\t\t\t\tpopup: state === undefined ? !this.state.mailList.popup : state\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:break;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst mailListPopup = !this.state.mailList.campaign ? undefined :\r\n\t\t\t<Modal show={this.state.mailList.popup} onHide={() => this.togglePopups(this.popups.mailList)}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Mailing List for <span style={{color: \"#ff0000\"}}>{this.state.mailList.campaign.name}</span></Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<p>Upload a Mailing List (SMS/ Email) to send invite for review (optional)</p>\r\n\t\t\t\t\t<input style={{ height: \"45px\", marginBottom: \"12px\"}} type=\"file\" class=\"form-control\" multiple={false} onChange={this.setMailingList}></input>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button style={{ float: \"right\", padding: \"10px 20px 10px 20px\"}} onClick={this.sendMailingList}>Send</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t{/* <Modal.Footer></Modal.Footer> */}\r\n\t\t\t</Modal>;\r\n\r\n\r\n\t\tif (this.props.campaignFilter === filter.campaignFilters.All ||\r\n\t\t\tthis.props.campaignFilter === filter.campaignFilters.Active ||\r\n\t\t\tthis.props.campaignFilter === filter.campaignFilters.Past) {\r\n\t\t\tlet rows;\r\n\t\t\tconsole.log(\"Campaign data: \", this.props.campaignData);\r\n\t\t\tif (this.props.campaignData) {\r\n\t\t\t\tif (this.props.campaignData.length > 0) {\r\n\r\n\t\t\t\t\t// function generateMaterialCheckbox(id, checked){\r\n\t\t\t\t\t// \treturn <MDBBtn size=\"sm\" rounded color={checked ? \"success\":\"danger\"}>{checked ? \"Active\" : \"Inactive\"}</MDBBtn>;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tlet idCounter = 1;\r\n\t\t\t\t\trows = this.props.campaignData.map((campaign) => {\r\n\t\t\t\t\t\t// if(this.props.campaignFilter === filter.campaignFilters.Active && !user.active)\r\n\t\t\t\t\t\t// \treturn {};\r\n\t\t\t\t\t\t// if(this.props.userFilter === filter.userFilters.Inactive && user.active)\r\n\t\t\t\t\t\t// \treturn {};\r\n\t\t\t\t\t\tlet campaignUrl = \"https://story.patronish.com/?campaign=\" + campaign.campaignURL;\r\n\t\t\t\t\t\tlet intro = campaign.intro ? campaign.intro : \"-\";\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t'id': idCounter++,\r\n\t\t\t\t\t\t\t'name': campaign.name,\r\n\t\t\t\t\t\t\t'balance': campaign.balance,\r\n\t\t\t\t\t\t\t'duration': campaign.duration,\r\n\t\t\t\t\t\t\t'intro': intro,\r\n\t\t\t\t\t\t\t'url': <Link href={campaignUrl} style={{ \"color\": \"darkturquoise\", \"fontWeight\": \"bold\", \"fontSize\": \"x-large\" }}>{campaign.campaignURL}</Link>,\r\n\t\t\t\t\t\t\t'share': [\r\n\t\t\t\t\t\t\t\t<FacebookShareButton style={{ \"margin\": \"10px\" }} url={campaignUrl} quote={campaign.campaignURL} /* hashtag=\"#hashtag\" */>\r\n\t\t\t\t\t\t\t\t\t<FacebookIcon size={36} />\r\n\t\t\t\t\t\t\t\t</FacebookShareButton>,\r\n\r\n\t\t\t\t\t\t\t\t<TwitterShareButton style={{ \"margin\": \"10px\" }} url={campaignUrl} title={campaign.campaignURL}>\r\n\t\t\t\t\t\t\t\t\t<TwitterIcon size={36} />\r\n\t\t\t\t\t\t\t\t</TwitterShareButton>,\r\n\r\n\t\t\t\t\t\t\t\t<RedditShareButton style={{ \"margin\": \"10px\" }} url={campaignUrl} title={campaign.campaignURL}>\r\n\t\t\t\t\t\t\t\t\t<RedditIcon size={36} />\r\n\t\t\t\t\t\t\t\t</RedditShareButton>,\r\n\r\n\t\t\t\t\t\t\t\t<WhatsappShareButton style={{ \"margin\": \"10px\" }} url={campaignUrl} title={campaign.campaignURL}>\r\n\t\t\t\t\t\t\t\t\t<WhatsappIcon size={36} />\r\n\t\t\t\t\t\t\t\t</WhatsappShareButton>,\r\n\r\n\t\t\t\t\t\t\t\t<LinkedinShareButton style={{ \"margin\": \"10px\" }} url={campaignUrl} title={campaign.campaignURL} source={\"http://clients.patronish.com\"}>\r\n\t\t\t\t\t\t\t\t\t<LinkedinIcon size={36} />\r\n\t\t\t\t\t\t\t\t</LinkedinShareButton>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t'action': <DropdownMenu\r\n\t\t\t\t\t\t\t\ttrigger={\r\n\t\t\t\t\t\t\t\t\t({ isOpen, triggerRef, toggle }) =>\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-outline-primary\" data-ripple-color=\"dark\"\r\n\t\t\t\t\t\t\t\t\t\t\tref={triggerRef}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={toggle}>\r\n\t\t\t\t\t\t\t\t\t\t\tManage Campaign\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>}\r\n\t\t\t\t\t\t\t\tid={campaign.campaignURL}\r\n\t\t\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: () => \"Mailing List\",\r\n\t\t\t\t\t\t\t\t\t\taction: this.campaignManagementActions.mailingList\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: () => \"Edit Campaign\",\r\n\t\t\t\t\t\t\t\t\t\taction: this.campaignManagementActions.updateCampaign\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: () => \"Delete Campaign\",\r\n\t\t\t\t\t\t\t\t\t\taction: this.campaignManagementActions.removeCampaign\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\tcallback={this.manageCampaign}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{mailListPopup}\r\n\t\t\t\t\t<MDBTable btn>\r\n\t\t\t\t\t\t<MDBTableHead columns={this.columns} />\r\n\t\t\t\t\t\t<MDBTableBody rows={rows} />\r\n\t\t\t\t\t\t{/* <MDBTableBody rows={rows_outline_btn} /> */}\r\n\t\t\t\t\t</MDBTable>\r\n\r\n\t\t\t\t\t<Modal show={this.state.modalShow} onHide={() => this.manageCampaign(this.campaignManagementActions.updateCampaign)}>\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>Edit Campaign</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>This campaign has been expired, it can't be edited.</Modal.Body>\r\n\t\t\t\t\t\t{/* <Modal.Footer></Modal.Footer> */}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t\t/*\r\n\t\t\trequirements:\r\n\t\t\t\tname\r\n\t\t\t\turl\r\n\t\t\t\tstart date\r\n\t\t\t\tend date\r\n\t\t\t\tvideo duration\r\n\t\t\t\tintro text\r\n\t\t\t\t[questions]\r\n\t\t\tcampaign object\r\n\t\t*/\r\n\t\tif (this.props.campaignFilter === filter.campaignFilters.New) {\r\n\t\t\t// question fields\r\n\t\t\tconst questionField =\r\n\t\t\t\tthis.state.questions ? <>\r\n\t\t\t\t\t{this.state.questions.map(\r\n\t\t\t\t\t\t(question, index) => {\r\n\t\t\t\t\t\t\tif (question === null)\r\n\t\t\t\t\t\t\t\treturn <></>;\r\n\t\t\t\t\t\t\tlet options = undefined;\r\n\t\t\t\t\t\t\tif (question.options && question.options.length > 0) {\r\n\t\t\t\t\t\t\t\toptions = question.options.map(\r\n\t\t\t\t\t\t\t\t\t(option, optionIndex) => {\r\n\t\t\t\t\t\t\t\t\t\treturn <>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"5\" className=\"option\" style={{ \"max-width\": \"45.8%\", \"flex\": \"0 0 45.8%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={option}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('question-option', e.target.value, index, optionIndex)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"1\" style={{ \"padding-left\": \"0px\", \"padding-right\": \"0px\", \"max-width\": \"4%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton size=\"small\" className=\"mt-1 ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.onChange('question-option-r', null, index, optionIndex)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t</>;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn <MDBRow key={index} className=\"question\">\r\n\t\t\t\t\t\t\t\t<MDBCol md=\"8\" style={{ \"max-width\": \"78%\", \"flex\": \"0 0 78%\" }}>\r\n\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\tvalue={question.statement}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('question', e.target.value, index)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t<MDBCol md=\"2\" style={{ \"padding-left\": \"0px\", \"padding-right\": \"0px\", \"flex\": \"0 0 13.6%\", \"max-width\": \"13.6%\" }}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-4\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ \"font-size\": \"small\" }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={question.type === \"or\" ? \"primary\" : \"secondary\"}\r\n\t\t\t\t\t\t\t\t\t\tstartIcon={question.type === \"or\" ? <RadioButtonUncheckedIcon /> : <CheckBoxIcon />}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.onChange('question', null, index, 0)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{question.type === \"or\" ? \"Single Choice\" : \"Multi Select\"}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t<MDBCol md=\"1\" style={{ \"padding-left\": \"0px\", \"padding-right\": \"0px\", \"max-width\": \"4%\" }}>\r\n\t\t\t\t\t\t\t\t\t<IconButton size=\"small\" className=\"mt-4 ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.onChange('question-option', \"option?\", index)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t<MDBCol md=\"1\" style={{ \"padding-left\": \"0px\", \"padding-right\": \"0px\", \"max-width\": \"4%\" }}>\r\n\t\t\t\t\t\t\t\t\t<IconButton size=\"small\" className=\"mt-4 ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.onChange('question-r', null, index)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ClearIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\r\n\t\t\t\t\t\t\t\t{options}\r\n\t\t\t\t\t\t\t</MDBRow>;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)}\r\n\t\t\t\t</> : <></>;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<form className=\"needs-validation\" onSubmit={(e) => { e.preventDefault(); this.manageCampaign(this.campaignManagementActions.addCampaign); }}>\r\n\t\t\t\t\t\t<MDBContainer>\r\n\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t<MDBCol md=\"6\">\r\n\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Campaign Name\"\r\n\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('name', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div id=\"name_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t\t<div id=\"campaignNameExists_err_msg\" className=\"invalid-feedback\">This campaign name is taken</div>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t<MDBCol md=\"6\">\r\n\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Video Duration (sec)\"\r\n\t\t\t\t\t\t\t\t\t\tgroup type=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.duration}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('duration', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div id=\"duration_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t<MDBCol md=\"12\">\r\n\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Campaign URL (no spaces) https://story.patronish.com/\"\r\n\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.url}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('url', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div id=\"validURL_err_msg\" className=\"invalid-feedback\">Valid URL Required (no spaces)</div>\r\n\t\t\t\t\t\t\t\t\t<div id=\"campaignURLExists_err_msg\" className=\"invalid-feedback\">This campaign URL is taken</div>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t<MDBCol md=\"12\">\r\n\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\tlabel={`Campaign Introduction Text (optional - ${this.state.intro_len})`}\r\n\t\t\t\t\t\t\t\t\t\tgroup type=\"textarea\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.intro}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('intro', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t<MDBRow className=\"mb-4\">\r\n\t\t\t\t\t\t\t\t<MDBCol md=\"6\">\r\n\t\t\t\t\t\t\t\t\t<KeyboardDatePicker\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Start Date\"\r\n\t\t\t\t\t\t\t\t\t\tautoOk\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"inline\"\r\n\t\t\t\t\t\t\t\t\t\tminDate={new Date()}\r\n\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tformat=\"dd/MM/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\tInputAdornmentProps={{ position: \"start\" }}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.startdate}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(date) => this.onChange('startdate', date)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t<KeyboardDatePicker\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"End Date\"\r\n\t\t\t\t\t\t\t\t\t\tautoOk\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"inline\"\r\n\t\t\t\t\t\t\t\t\t\tminDate={this.state.startdate}\r\n\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tformat=\"dd/MM/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\tInputAdornmentProps={{ position: \"start\" }}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.enddate}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(date) => this.onChange('enddate', date)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t<div id=\"date_err_msg\" className=\"invalid-feedback\">Please select valid date(s) with at-least 1 day duration</div>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t{questionField}\r\n\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tstartIcon={<AddIcon />}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onChange('question')}\r\n\t\t\t\t\t\t\t\t\t>Add Question</Button>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t<MDBRow >\r\n\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<MDBBtn outline color=\"success\" type=\"submit\">Add New Campaign</MDBBtn>\r\n\t\t\t\t\t\t\t\t\t\t<MDBBtn outline color=\"warning\" onClick={this.resetForm}>Clear</MDBBtn>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t</MDBContainer>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t{mailListPopup}\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\r\n\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Campaign);","import React, { Component } from 'react';\r\nimport VideoPlayer from 'react-video-js-player';\r\nimport './Styles.css';\r\n\r\nclass VJSPlayer extends Component {\r\n\r\n\tplayer = {}\r\n\r\n\tonPlayerReady(player) {\r\n\t\t// console.log(\"Player is ready: \", player);\r\n\t\tthis.player = player;\r\n\t}\r\n\r\n\tonVideoPlay(duration) {\r\n\t\t// console.log(\"Video played at: \", duration);\r\n\t}\r\n\r\n\tonVideoEnd() {\r\n\t\t// console.log(\"Video playback ended\");\r\n\t\t// var playButton = document.getElementById('playButton');\r\n\t\t// playButton.style.display = \"block\";\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.src == null)\r\n\t\t\treturn (<></>);\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{/* <VideoPlayer\r\n\t\t\t\t\tclassName=\"player video-js\"\r\n\t\t\t\t\tcontrols={true}\r\n\t\t\t\t\tsrc={{ src: this.props.src, type: 'video/mp4' }}\r\n\t\t\t\t\tonReady={this.onPlayerReady.bind(this)}\r\n\t\t\t\t\tonPlay={this.onVideoPlay.bind(this)}\r\n\t\t\t\t\tonEnd={this.onVideoEnd.bind(this)}\r\n\t\t\t\t/> */}\r\n\t\t\t\t<div style={{height: \"100%\"}}>\r\n\t\t\t\t\t<VideoPlayer\r\n\t\t\t\t\t\tclassName=\"videoPlayer\"\r\n\t\t\t\t\t\tcontrols={true}\r\n\t\t\t\t\t\tsrc={{src: this.props.src, type: 'video/mp4'}}\r\n\t\t\t\t\t\tonReady={this.onPlayerReady.bind(this)}\r\n\t\t\t\t\t\tonPlay={this.onVideoPlay.bind(this)}\r\n\t\t\t\t\t\tonEnd={this.onVideoEnd.bind(this)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\nexport default VJSPlayer;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport VJSPlayer from './VideoPlayer/VideoPlayer';\r\nimport { clearVideoAction, onWaitAction, removeVideoAction } from '../../store/session';\r\nimport { FacebookShareButton, FacebookIcon, TwitterShareButton, TwitterIcon, WhatsappShareButton, WhatsappIcon } from 'react-share';\r\nimport { LinkedinShareButton, LinkedinIcon, RedditShareButton, RedditIcon } from 'react-share';\r\nimport './Style.css';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcampaignFilter: state.campaignData,\r\n\t\talbumName: state.albumName,\r\n\t\talbumList: state.albumList,\r\n\t\tvideoUrl: state.videoUrl\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tdeleteVideo: (vidoeKey) => dispatch(removeVideoAction(vidoeKey)),\r\n\t\tcloseVideo: () => dispatch(clearVideoAction()),\r\n\t\toverlay: () => dispatch(onWaitAction())\r\n\t}\r\n}\r\n\r\nclass Video extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.generateTable = this.generateTable.bind(this);\r\n\t\tthis.downloadVideo = this.downloadVideo.bind(this);\r\n\t\tthis.playVideo = this.playVideo.bind(this);\r\n\t\tthis.closeVideo = this.closeVideo.bind(this);\r\n\r\n\t\tthis.state = { videoUrl: undefined };\r\n\t}\r\n\r\n\tgenerateTable() {\r\n\t\t// album list: \r\n\t\tif (!this.props.albumName) {\r\n\t\t\treturn <h3>No album selected</h3>;\r\n\t\t}\r\n\t\tif (!this.props.albumList) {\r\n\t\t\treturn <h3>No videos in this album</h3>;\r\n\t\t}\r\n\r\n\t\tconst tableRows = this.props.albumList.map((video, index) => {\r\n\r\n\t\t\tlet timestamp = video.key.toString()\r\n\t\t\ttimestamp = timestamp.substr(timestamp.indexOf(\"/\") + 1);\r\n\t\t\ttimestamp = timestamp.substr(0, timestamp.indexOf(\".\"));\r\n\t\t\tlet uploadDate = new Date(parseInt(timestamp)).toDateString();\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<tr key={video.key}>\r\n\t\t\t\t\t<td>{index + 1}</td>\r\n\t\t\t\t\t<td>{video.key}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{uploadDate}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-success\"\r\n\t\t\t\t\t\t\t\tdata-ripple-color=\"dark\"\r\n\t\t\t\t\t\t\t\tonClick={() => { this.props.overlay(); this.playVideo(video.url); }}>\r\n\t\t\t\t\t\t\t\tPlay\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary\"\r\n\t\t\t\t\t\t\t\tdata-ripple-color=\"dark\"\r\n\t\t\t\t\t\t\t\tonClick={() => this.downloadVideo(video.url)}>\r\n\t\t\t\t\t\t\t\tDownload\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-danger\"\r\n\t\t\t\t\t\t\t\tdata-ripple-color=\"dark\"\r\n\t\t\t\t\t\t\t\tonClick={() => { this.props.overlay(); this.props.deleteVideo(video.key); }}>\r\n\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<FacebookShareButton style={{ \"margin\": \"10px\" }} url={video.url} quote={this.props.albumName} /* hashtag=\"#hashtag\" */>\r\n\t\t\t\t\t\t\t\t<FacebookIcon size={36} />\r\n\t\t\t\t\t\t\t</FacebookShareButton>\r\n\r\n\t\t\t\t\t\t\t<TwitterShareButton style={{ \"margin\": \"10px\" }} url={video.url} title={this.props.albumName}>\r\n\t\t\t\t\t\t\t\t<TwitterIcon size={36} />\r\n\t\t\t\t\t\t\t</TwitterShareButton>\r\n\r\n\t\t\t\t\t\t\t<RedditShareButton style={{ \"margin\": \"10px\" }} url={video.url} title={this.props.albumName}>\r\n\t\t\t\t\t\t\t\t<RedditIcon size={36} />\r\n\t\t\t\t\t\t\t</RedditShareButton>\r\n\r\n\t\t\t\t\t\t\t<WhatsappShareButton style={{ \"margin\": \"10px\" }} url={video.url} title={this.props.albumName}>\r\n\t\t\t\t\t\t\t\t<WhatsappIcon size={36} />\r\n\t\t\t\t\t\t\t</WhatsappShareButton>\r\n\r\n\t\t\t\t\t\t\t<LinkedinShareButton style={{ \"margin\": \"10px\" }} url={video.url} title={this.props.albumName} source={\"http://clients.patronish.com\"}>\r\n\t\t\t\t\t\t\t\t<LinkedinIcon size={36} />\r\n\t\t\t\t\t\t\t</LinkedinShareButton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t)\r\n\t\t});\r\n\r\n\t\tconst videoTable =\r\n\t\t\t<table id=\"playlist\">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{tableRows}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>;\r\n\r\n\t\treturn videoTable;\r\n\t}\r\n\r\n\tgenerateTable2() {\r\n\t\t// album list: \r\n\t\tif (!this.props.albumName) {\r\n\t\t\treturn <h3>No album selected</h3>;\r\n\t\t}\r\n\t\tif (!this.props.albumList) {\r\n\t\t\treturn <h3>No videos in this album</h3>;\r\n\t\t}\r\n\r\n\r\n\t\tlet videoList = this.props.albumList\r\n\t\t\t.filter(item => item.url.endsWith(\".mp4\"))\r\n\t\t\t.map(videoURL => { return { \"video\": videoURL } })\r\n\t\t\t.map(videoObj => {\r\n\t\t\t\t// find image url (key value pair)\r\n\t\t\t\tlet searchResult = this.props.albumList.filter(obj => !obj.url.endsWith(\".mp4\") && obj.url.includes(videoObj.video.key.substring(0, videoObj.video.key.length - 4)));\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...videoObj,\r\n\t\t\t\t\t\"image\": searchResult.length >= 1 ? searchResult[0] : undefined\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\tconsole.log(process.env.PUBLIC_URL);\r\n\t\tconst videoCards = videoList.map((videoDetail, index) => {\r\n\t\t\t// for video creation/upload date\r\n\t\t\t// let timestamp = videoDetail.video.key.toString()\r\n\t\t\t// timestamp = timestamp.substr(timestamp.indexOf(\"/\") + 1);\r\n\t\t\t// timestamp = timestamp.substr(0, timestamp.indexOf(\".\"));\r\n\t\t\t// let uploadDate = new Date(parseInt(timestamp)).toDateString();\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"videoCard\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"videoThumbnail\"\r\n\t\t\t\t\t\tstyle={{ \"background-image\": `url(${videoDetail.image ? videoDetail.image.url : \"video_not_found.png\"})`, \"background-size\": \"cover\", \"background-repeat\": \"no-repeat\" }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t// this.props.overlay(); \r\n\t\t\t\t\t\t\tthis.playVideo(videoDetail.video.url);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"videoDecription\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{videoDetail.video.key}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn-outline-primary\"\r\n\t\t\t\t\t\t\tdata-ripple-color=\"dark\"\r\n\t\t\t\t\t\t\tonClick={() => this.downloadVideo(videoDetail.video.url)}>\r\n\t\t\t\t\t\t\tDownload\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn-outline-danger\"\r\n\t\t\t\t\t\t\tdata-ripple-color=\"dark\"\r\n\t\t\t\t\t\t\tonClick={() => { this.props.overlay(); this.props.deleteVideo(videoDetail.video.key); }}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t});\r\n\r\n\t\treturn videoCards;\r\n\t}\r\n\r\n\tplayVideo(videoUrl) {\r\n\t\tif (this.state.videoUrl) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoUrl: undefined\r\n\t\t\t}, () => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tvideoUrl\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoUrl\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcloseVideo() {\r\n\t\tthis.setState({\r\n\t\t\tvideoUrl: undefined\r\n\t\t});\r\n\t\t// this.props.closeVideo();\r\n\t}\r\n\r\n\tdownloadVideo(url) {\r\n\t\twindow.location.href = url;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst videoTable = this.generateTable2();\r\n\r\n\t\tlet showVideo = 'none';\r\n\r\n\t\tif (this.state.videoUrl) {\r\n\t\t\tshowVideo = 'block';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{ this.props.albumName ? <h1>Campaign <b>{this.props.albumName}</b></h1> : <></>}\r\n\r\n\t\t\t\t<div id=\"playlistWrapper\" className=\"flexContainer\">\r\n\r\n\t\t\t\t\t<div id=\"player\" className=\"videoPlayerCard\" style={{ display: showVideo }}>\r\n\t\t\t\t\t\t<button className=\"closeButton\" onClick={() => this.closeVideo()}>&#10006;</button>\r\n\t\t\t\t\t\t{this.state.videoUrl ? <VJSPlayer src={this.state.videoUrl} /> : <></>}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{videoTable}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Video);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navbar from '../Navbar/Navbar';\r\nimport Sidebar from '../Navbar/Sidebar';\r\nimport User from '../User/User';\r\nimport Campaign from '../Campaign/Campaign';\r\nimport Video from '../Videos/Video';\r\nimport * as nav from '../../store/globals/nav';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tactiveModule: state.activeModule\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\r\n\t}\r\n}\r\n\r\nclass Admin extends Component {\r\n\t\r\n\trender() {\r\n\t\tlet dom =\r\n\t\t\t<>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<Sidebar />\r\n\t\t\t\t<div style={{ \"marginLeft\": \"270px\", \"marginTop\": \"64px\", padding: \"10px\" }}>\r\n\t\t\t\t\t{this.props.activeModule === nav.modules.user ? <User /> : ''}\r\n\t\t\t\t\t{this.props.activeModule === nav.modules.campaign ? <Campaign /> : ''}\r\n\t\t\t\t\t{this.props.activeModule === nav.modules.video ? <Video /> : ''}\r\n\t\t\t\t</div>\r\n\t\t\t</>;\r\n\r\n\t\treturn (dom);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Admin);","import React from \"react\";\r\n\r\nexport function Link(props) {\r\n\tconst { classes, prepend, text, append, callback } = props;\r\n\r\n\treturn <p className={classes}>\r\n\t\t\t\t{prepend}\r\n\t\t\t\t\t<strong style={{ cursor: \"pointer\" }} onClick={() => callback()}>\r\n\t\t\t\t\t\t{text}\r\n\t\t\t\t\t</strong>\r\n\t\t\t\t{append}\r\n\t\t\t</p>;\r\n}","export const userAddedSuccess = \"userAddedSuccess\";\r\nexport const userAlreadyExists = \"userAlreadyExists\";\r\nexport const incompleteUserData = \"incompleteUserData\";\r\nexport const invalidUserData = \"invalidUserData\";\r\n\r\nexport const notificationType = {\r\n\tsuccess: \"success\",\r\n\terror: \"error\"\r\n}\r\n\r\n// export const \tserverNotResponding: \"serverNotResponding\",\r\n// export const \tserverError: \"serverError\"","import React, { Component } from \"react\";\r\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from 'mdbreact';\r\nimport {Link} from '../FunctionalComponents/Link';\r\nimport { connect } from 'react-redux';\r\nimport { loginAction } from '../../store/session';\r\nimport { notificationType } from '../../store/globals/codes';\r\nimport { navigate } from '../../store/session';\r\nimport * as nav from '../../store/globals/nav';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tloading: state.loading\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tlogin: (email, password, cb) => dispatch(loginAction(email, password, cb)),\r\n\t\tnavigate: (to) => dispatch(navigate(to))\r\n\t}\r\n}\r\n\r\nclass Login extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.initLogin = this.initLogin.bind(this);\r\n\t\tthis.notify = this.notify.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\t// email: 'usman.shery@gmail.com',\r\n\t\t\t// password: 'cellcycle'\r\n\t\t}\r\n\t}\r\n\r\n\tonChange(property, val) {\r\n\t\tthis.setState({\r\n\t\t\t[property]: val\r\n\t\t});\r\n\t}\r\n\r\n\tinitLogin() {\r\n\t\tthis.props.login(this.state.email, this.state.password, this.notify);\r\n\t}\r\n\r\n\tnotify(response) {\r\n\t\tif(response.success){\r\n\t\t\tthis.props.notify(notificationType.success, \"Login successful\");\r\n\t\t}else{\r\n\t\t\tthis.props.notify(notificationType.error, response.message);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{ height: \"100vh\" }}>\r\n\t\t\t\t<div className=\"bg-dark col-12 container h-100\">\r\n\t\t\t\t\t<div className=\"row align-items-center h-100\">\r\n\t\t\t\t\t\t<div className=\"col-sm-10 col-md-8 col-lg-6 col-xl-4  mx-auto\">\r\n\t\t\t\t\t\t\t<MDBContainer>\r\n\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t<MDBCol md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h3 text-white text-center mb-4\">Sign in</p>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"grey-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"envelope\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroup type=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate error=\"wrong email address format\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('email', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Type your password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"lock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroup type=\"password\" validate\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('password', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\t\t\t\t\t\tclasses=\"text-white\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext=\"Reset Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcallback={() => this.props.navigate(nav.modules.passwordReset)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBBtn onClick={this.initLogin}>Login</MDBBtn>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\t\t\t\t\t\tclasses=\"text-white\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tprepend=\"Don't have an account? \"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext=\"Register\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcallback={() => this.props.navigate(nav.modules.register)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t</MDBContainer>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React, { Component } from \"react\";\r\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from 'mdbreact';\r\nimport { connect } from 'react-redux';\r\nimport { registerAction, existingUserAction, navigate } from '../../store/session';\r\nimport { notificationType } from '../../store/globals/codes';\r\nimport * as nav from '../../store/globals/nav';\r\nimport * as filter from '../../store/globals/filter';\r\nimport countries from '../../store/globals/countries';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport './Style.css';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tloading: state.loading\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tcheckUserExists: (email, cb) => dispatch(existingUserAction(email, cb)),\r\n\t\taddUser: (user, cb) => dispatch(registerAction(user, cb)),\r\n\t\tnavigate: (to) => dispatch(navigate(to))\r\n\t}\r\n}\r\n\r\nclass Register extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.initRegister = this.initRegister.bind(this);\r\n\t\tthis.checkUserExistsResponse = this.checkUserExistsResponse.bind(this);\r\n\t\tthis.resetForm = this.resetForm.bind(this);\r\n\t\tthis.notify = this.notify.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcompanyName: undefined\r\n\t\t}\r\n\t}\r\n\r\n\tonChange(property, val) {\r\n\t\tthis.setState({\r\n\t\t\t[property]: val\r\n\t\t});\r\n\r\n\t\tconst element = document.getElementById(`${property}_err_msg`);\r\n\t\tif (element) {\r\n\t\t\telement.style.display = \"none\";\r\n\t\t\tif (property === 'contactPersonEmail')\r\n\t\t\t\tdocument.getElementById('contactPersonEmailExists_err_msg').style.display = \"none\";\r\n\t\t}\r\n\t}\r\n\r\n\tinitRegister() {\r\n\t\tif (!this.state.companyName) {\r\n\t\t\tdocument.getElementById('companyName_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.state.location) {\r\n\t\t\tdocument.getElementById('location_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.state.postCode) {\r\n\t\t\tdocument.getElementById('postCode_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.state.country) {\r\n\t\t\tdocument.getElementById('country_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.state.contactPersonName) {\r\n\t\t\tdocument.getElementById('contactPersonName_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.state.contactPersonEmail) {\r\n\t\t\tdocument.getElementById('contactPersonEmail_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!filter.validateEmail(this.state.contactPersonEmail)) {\r\n\t\t\tdocument.getElementById('contactPersonEmail_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.state.contactPersonRole) {\r\n\t\t\tdocument.getElementById('contactPersonRole_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.state.contactPersonNumber) {\r\n\t\t\tdocument.getElementById('contactPersonNumber_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.state.password) {\r\n\t\t\tdocument.getElementById('password_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.state.password !== this.state.password_re) {\r\n\t\t\tdocument.getElementById('password_re_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.checkUserExists(this.state.contactPersonEmail, this.checkUserExistsResponse);\r\n\t}\r\n\r\n\tcheckUserExistsResponse(response) {\r\n\t\tconsole.log(\"exists response: \", response);\r\n\t\tif (response.success) {\r\n\t\t\tconsole.log(\"in?\");\r\n\t\t\tdocument.getElementById('contactPersonEmailExists_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconsole.log(\"right after\");\r\n\r\n\t\tconst { companyName, location, postCode, country, employeeSize,\r\n\t\t\tcontactPersonName, contactPersonEmail, contactPersonRole, contactPersonNumber, password } = this.state;\r\n\r\n\t\tconst user = {\r\n\t\t\tname: contactPersonName,\r\n\t\t\temail: contactPersonEmail,\r\n\t\t\tpassword,\r\n\t\t\trole: contactPersonRole,\r\n\t\t\tcontact: contactPersonNumber,\r\n\r\n\t\t\tcompany: {\r\n\t\t\t\tname: companyName,\r\n\t\t\t\tlocation,\r\n\t\t\t\tpostCode,\r\n\t\t\t\tcountry,\r\n\t\t\t\temployeeSize: employeeSize ? employeeSize : -1\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconsole.log('new user: ', user);\r\n\t\tthis.props.addUser(user, this.notify);\r\n\t}\r\n\r\n\tresetForm() {\r\n\t\tthis.setState({\r\n\t\t\tcompanyName: \"\",\r\n\t\t\tlocation: \"\",\r\n\t\t\tpostCode: \"\",\r\n\t\t\tcountry: \"\",\r\n\t\t\temployeeSize: \"\",\r\n\r\n\t\t\tcontactPersonName: \"\",\r\n\t\t\tcontactPersonEmail: \"\",\r\n\t\t\tcontactPersonRole: \"\",\r\n\t\t\tcontactPersonNumber: \"\",\r\n\r\n\t\t\tpassword: \"\",\r\n\t\t\tpassword_re: \"\"\r\n\t\t});\r\n\t}\r\n\r\n\tnotify(response) {\r\n\t\tif (response.success) {\r\n\t\t\tthis.props.notify(notificationType.success, \"Registration successful\");\r\n\t\t\tthis.props.navigate(nav.modules.login);\r\n\t\t} else {\r\n\t\t\tthis.props.notify(notificationType.error, response.message);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst countryDD = countries.map(\r\n\t\t\t(countryData) => {\r\n\t\t\t\treturn <MenuItem value={countryData.Code}>{countryData.Name}</MenuItem>;\r\n\t\t\t}\r\n\t\t);\r\n\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div style={{ height: \"100vh\" }}>\r\n\t\t\t\t\t<div className=\"bg-dark col-12 container h-100\">\r\n\t\t\t\t\t\t<div className=\"row align-items-center h-100\">\r\n\t\t\t\t\t\t\t<div className=\"col-sm-10 col-md-8 col-lg-6 col-xl-4  mx-auto\">\r\n\t\t\t\t\t\t\t\t<form className=\"needs-validation\" onSubmit={(e) => { e.preventDefault(); this.initRegister(); }}>\r\n\t\t\t\t\t\t\t\t\t<MDBContainer>\r\n\t\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p id=\"x\" className=\"h3 text-center text-white mb-4\">Company</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Company Name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.companyName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('companyName', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"companyName_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Location\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.location}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('location', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"location_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* log goes here */}\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Post Code\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.postCode}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('postCode', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"postCode_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Country\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.country}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('country', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"countryDD\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"color\" : \"#757575\", \"padding-top\": \"32px\", \"padding-left\": \"4px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Country\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.country}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('country', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{countryDD}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"country_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Employee Size\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.employeeSize}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('employeeSize', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p id=\"x\" className=\"h3 text-center text-white mb-4 mt-3\">Contact Person (Account Holder)</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.contactPersonName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('contactPersonName', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"contactPersonName_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email (used as login credential)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup type=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.contactPersonEmail}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('contactPersonEmail', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"contactPersonEmail_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"contactPersonEmailExists_err_msg\" className=\"invalid-feedback\">Email address already in use</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Role\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.contactPersonRole}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('contactPersonRole', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"contactPersonRole_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Contact Number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.contactPersonNumber}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('contactPersonNumber', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"contactPersonNumber_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enter Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('password', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"password_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Retype password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroup type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.password_re}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('password_re', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"password_re_err_msg\" className=\"invalid-feedback\">Passwords do not match</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MDBBtn type=\"submit\">Register New User</MDBBtn>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MDBBtn onClick={this.resetForm}>Clear</MDBBtn>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t\t\t</MDBContainer>\r\n\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<MDBBtn outline color=\"success\" style={{ position: \"absolute\", top: \"0%\", right: \"0%\" }} onClick={() => this.props.navigate(nav.modules.login)}>Login</MDBBtn>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);","import React, { Component } from \"react\";\r\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from 'mdbreact';\r\nimport { connect } from 'react-redux';\r\nimport { existingUserAction, otpAction, passwordResetAction } from '../../store/session';\r\nimport { notificationType } from '../../store/globals/codes';\r\nimport { navigate } from '../../store/session';\r\nimport * as nav from '../../store/globals/nav';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tloading: state.loading\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tcheckUserExists: (email, cb) => dispatch(existingUserAction(email, cb)),\r\n\t\tgenerateOTP: (email, cb) => dispatch(otpAction(email, cb)),\r\n\t\tpasswordReset: (email, otp, password, cb) => dispatch(passwordResetAction(email, otp, password, cb)),\r\n\t\tnavigate: (to) => dispatch(navigate(to))\r\n\t}\r\n}\r\n\r\nclass PasswordReset extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\r\n\t\tthis.generateOTP = this.generateOTP.bind(this);\r\n\t\tthis.generateOTPResponse = this.generateOTPResponse.bind(this);\r\n\r\n\t\tthis.initPasswordReset = this.initPasswordReset.bind(this);\r\n\t\tthis.passwordResetResponse = this.passwordResetResponse.bind(this);\r\n\r\n\t\tthis.notify = this.notify.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\temailInputDisabled: false\r\n\t\t}\r\n\t}\r\n\r\n\tonChange(property, val) {\r\n\t\tconst el = document.getElementById(`${property}_err_msg`);\r\n\t\tif(el)\r\n\t\t\tel.style.display = \"none\";\r\n\r\n\t\tthis.setState({\r\n\t\t\t[property]: val\r\n\t\t});\r\n\t}\r\n\t\r\n\tgenerateOTP(response) {\r\n\t\tconsole.log(\"At generateOTP response: \" , response);\r\n\t\tif(response){\r\n\t\t\t// send otp request\r\n\t\t\tif(response.success){\r\n\t\t\t\tthis.props.generateOTP(this.state.email, this.generateOTPResponse);\r\n\t\t\t}else{\r\n\t\t\t\t// email not found\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\temailInputDisabled: false\r\n\t\t\t\t});\r\n\t\t\t\tdocument.getElementById('email_err_msg').style.display = \"block\";\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// check email validation\r\n\t\tthis.setState({\r\n\t\t\temailInputDisabled: true\r\n\t\t});\r\n\t\tthis.props.checkUserExists(this.state.email, this.generateOTP);\r\n\t}\r\n\r\n\tgenerateOTPResponse(response) {\r\n\t\tconsole.log(\"At generateOTPResponse response: \" , response);\r\n\t\t// act based on response\r\n\t\tif(!response.success){\r\n\t\t\tthis.notify(response);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdocument.getElementById('email_info_msg').style.display = \"block\";\r\n\t\t\tthis.notify({success: true, message: \"OTP generation success\"});\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tinitPasswordReset() {\r\n\t\t// extract user input values\r\n\t\tconst { email, otp, password, password_re } = this.state;\r\n\r\n\t\tif(password !== password_re){\r\n\t\t\tdocument.getElementById('password_re_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(!otp){\r\n\t\t\tdocument.getElementById('otp_err_msg').style.display = \"block\";\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.passwordReset(email, otp, password, this.passwordResetResponse);\r\n\t}\r\n\r\n\tpasswordResetResponse(response) {\r\n\t\tif(response.success){\r\n\t\t\tthis.props.navigate(nav.modules.login);\r\n\t\t}\r\n\t\tthis.notify(response);\r\n\t}\r\n\r\n\tnotify(response) {\r\n\t\tconsole.log(\"At notify response: \" , response);\r\n\t\tif (response.success) {\r\n\t\t\tif(response.message){\r\n\t\t\t\tthis.props.notify(notificationType.success, response.message);\r\n\t\t\t}else{\r\n\t\t\t\tthis.props.notify(notificationType.success, \"Password Reset Successful\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(response.message){\r\n\t\t\t\tthis.props.notify(notificationType.error, response.message);\r\n\t\t\t}\r\n\t\t\tif(response.err){\r\n\t\t\t\tthis.props.notify(notificationType.error, response.err);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div style={{ height: \"100vh\" }}>\r\n\t\t\t\t\t<div className=\"bg-dark col-12 container h-100\">\r\n\t\t\t\t\t\t<div className=\"row align-items-center h-100\">\r\n\t\t\t\t\t\t\t<div className=\"col-sm-10 col-md-8 col-lg-6 col-xl-4 grey-text mx-auto\">\r\n\t\t\t\t\t\t\t\t<MDBContainer>\r\n\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h3 text-white text-center mb-4\">Reset Password</p>\r\n\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t<MDBCol md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"envelope\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroup type=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate error=\"wrong email address format\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.state.emailInputDisabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('email', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"email_err_msg\" className=\"invalid-feedback\">Email not found</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"email_info_msg\" className=\"valid-feedback\">OTP has been sent to your email, it is valid for next 10 minutes</div>\r\n\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBBtn onClick={() => this.generateOTP()}>Send OTP Email</MDBBtn>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enter OTP (received by email)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"lock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('otp', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"otp_err_msg\" className=\"invalid-feedback\">Required</div>\r\n\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Type new password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"lock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroup type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('password', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDBInput\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Re-type new password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"lock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tgroup type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.onChange('password_re', e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"password_re_err_msg\" className=\"invalid-feedback\">Passwords do not match</div>\r\n\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\r\n\t\t\t\t\t\t\t\t\t<MDBRow>\r\n\t\t\t\t\t\t\t\t\t\t<MDBCol>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MDBBtn onClick={this.initPasswordReset}>Reset Password</MDBBtn>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t\t</MDBRow>\r\n\t\t\t\t\t\t\t\t</MDBContainer>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<MDBBtn outline color=\"success\" style={{ position: \"absolute\", top: \"0%\", right: \"0%\" }} onClick={() => this.props.navigate(nav.modules.login)}>Login</MDBBtn>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PasswordReset);","import React, { Component } from 'react';\nimport Admin from './components/Admin/Admin';\nimport Login from './components/Login/Login';\nimport Register from './components/Login/Register';\nimport PasswordReset from './components/Login/PasswordReset';\nimport { connect } from 'react-redux';\nimport { pageLoadAction } from './store/session';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { notificationType } from './store/globals/codes';\nimport * as nav from '../src/store/globals/nav';\nimport './Styles.css';\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tloading: state.loading,\n\t\tloggedIn: state.loggedIn,\n\t\tactiveModule: state.activeModule\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonPageLoad: () => dispatch(pageLoadAction())\n\t}\n}\n\nclass App extends Component {\n\n\tcomponentDidMount() {\n\t\tif (!this.props.loggedIn)\n\t\t\tthis.props.onPageLoad();\n\t}\n\n\tnotify(type, content) {\n\t\tswitch (type) {\n\t\t\tcase notificationType.success:\n\t\t\t\ttoast.success(content, {\n\t\t\t\t\tposition: \"top-right\",\n\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\tcloseOnClick: true,\n\t\t\t\t\tpauseOnHover: false,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\tprogress: undefined,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase notificationType.error:\n\t\t\t\ttoast.error(content, {\n\t\t\t\t\tposition: \"top-right\",\n\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\tcloseOnClick: true,\n\t\t\t\t\tpauseOnHover: false,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\tprogress: undefined,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttoast.warn(\"Invalid notification issue\", {\n\t\t\t\t\tposition: \"top-right\",\n\t\t\t\t\tautoClose: 5000,\n\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\tcloseOnClick: true,\n\t\t\t\t\tpauseOnHover: false,\n\t\t\t\t\tdraggable: true,\n\t\t\t\t\tprogress: undefined,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t\n\trender() {\n\t\tlet overlayStyle = 'none';\n\t\tif(this.props.loading){\n\t\t\toverlayStyle = 'block';\n\t\t}\n\n\t\tif (this.props.loggedIn) {\n\t\t\treturn <>\n\t\t\t\t<ToastContainer\n\t\t\t\t\tposition=\"top-right\"\n\t\t\t\t\tautoClose={1000}\n\t\t\t\t\thideProgressBar\n\t\t\t\t\tnewestOnTop={false}\n\t\t\t\t\tcloseOnClick\n\t\t\t\t\trtl={false}\n\t\t\t\t\tpauseOnFocusLoss={false}\n\t\t\t\t\tdraggable\n\t\t\t\t\tpauseOnHover={false}\n\t\t\t\t/>\n\t\t\t\t<div id=\"loader\" className=\"loader\" style={{display: overlayStyle}}></div>\n\t\t\t\t<div id=\"overlay\" className=\"overlay\" style={{display: overlayStyle}}></div>\n\t\t\t\t<Admin />\n\t\t\t</>;\n\t\t} else {\n\t\t\treturn <>\n\t\t\t\t<ToastContainer\n\t\t\t\t\tposition=\"top-right\"\n\t\t\t\t\tautoClose={1000}\n\t\t\t\t\thideProgressBar\n\t\t\t\t\tnewestOnTop={false}\n\t\t\t\t\tcloseOnClick\n\t\t\t\t\trtl={false}\n\t\t\t\t\tpauseOnFocusLoss={false}\n\t\t\t\t\tdraggable\n\t\t\t\t\tpauseOnHover={false}\n\t\t\t\t/>\n\t\t\t\t{this.props.activeModule === nav.modules.login ? <Login notify={this.notify} /> : <></>}\n\t\t\t\t{this.props.activeModule === nav.modules.register ? <Register notify={this.notify} /> : <></>}\n\t\t\t\t{this.props.activeModule === nav.modules.passwordReset ? <PasswordReset notify={this.notify} /> : <></>}\n\t\t\t</>;\n\t\t}\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actions from '../api';\r\n\r\n/*\r\n\tRequired:\r\n\t-\turl\r\n\t-\tmethod\r\n\t-\theaders\r\n\t-\tbody\r\n\t-\tonSuccess\r\n\t-\tonFailure\r\n*/\r\n\r\nconst debug = false;\r\n\r\nconst api = state => next => async action => {\r\n\tlet {dispatch} = state;\r\n\tlog('action', action);\r\n\tif(action.type !== actions.apiCall.type) return next(action);\r\n\r\n\tconst {onSuccess, onFailure, url, callParams, cb } = action.payload;\r\n\tlog('url', action.payload.url);\r\n\t\r\n\tfetch(url, { ...callParams })\r\n\t.then(response => response.json())\r\n\t.then((response) => {\r\n\t\tlog('response', response);\r\n\t\tif(cb && typeof cb === 'function'){\r\n\t\t\tcb(response);\r\n\t\t}\r\n\t\tif(onSuccess)\r\n\t\t\tdispatch({type: onSuccess, payload: response});\r\n\t})\r\n\t.catch((err) => {\r\n\t\t// dispatch(actions.apiCallFailure(err));\r\n\t\tlog('error', err);\r\n\t\tif(onFailure){\r\n\t\t\tdispatch({type: onFailure, payload: err});\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction log(type, data){\r\n\tif(debug)\r\n\tconsole.log('MIDDLEWARE<API> -> ' + type + ': ', data);\r\n}\r\n\r\nexport default api;","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport reducer from './session';\r\nimport api from './middleware/api';\r\n\r\nconst store = configureStore({\r\n\treducer,\r\n\tmiddleware: [\r\n\t\t...getDefaultMiddleware(),\r\n\t\tapi\r\n\t]\r\n});\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\n\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport 'mdbreact/dist/css/mdb.css';\n\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\n\n// import $ from 'jquery';\n// import Popper from 'popper.js';\n// import 'bootstrap/dist/js/bootstrap.bundle.min';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\n\t\t\t\t<App />\n\t\t\t</MuiPickersUtilsProvider>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}